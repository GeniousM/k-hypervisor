<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>khypervisor: context.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">khypervisor
   &#160;<span id="projectnumber">v1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">context.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;k-hypervisor-config.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="arch__types_8h_source.html">arch_types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vgic_8h_source.html">vgic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lpae_8h_source.html">lpae.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for context.h:</div>
<div class="dyncontent">
<div class="center"><img src="context_8h__incl.png" border="0" usemap="#context_8h" alt=""/></div>
<map name="context_8h" id="context_8h">
<area shape="rect" id="node5" href="arch__types_8h.html" title="arch_types.h" alt="" coords="232,237,328,267"/><area shape="rect" id="node7" href="vgic_8h.html" title="vgic.h" alt="" coords="221,83,277,112"/><area shape="rect" id="node13" href="lpae_8h.html" title="lpae.h" alt="" coords="403,160,459,189"/><area shape="rect" id="node10" href="hvmm__types_8h.html" title="hvmm_types.h" alt="" coords="272,160,379,189"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="context_8h__dep__incl.png" border="0" usemap="#context_8hdep" alt=""/></div>
<map name="context_8hdep" id="context_8hdep">
<area shape="rect" id="node3" href="context_8c.html" title="context.c" alt="" coords="117,160,192,189"/><area shape="rect" id="node5" href="gic_8c.html" title="gic/gic.c" alt="" coords="892,83,961,112"/><area shape="rect" id="node7" href="vgic_8c.html" title="gic/vgic.c" alt="" coords="985,83,1063,112"/><area shape="rect" id="node9" href="vdev_8h.html" title="include/vdev.h" alt="" coords="559,83,665,112"/><area shape="rect" id="node12" href="trap__dabort_8c.html" title="trap_dabort.c" alt="" coords="267,160,365,189"/><area shape="rect" id="node14" href="vdev_8c.html" title="vdev/vdev.c" alt="" coords="707,160,800,189"/><area shape="rect" id="node16" href="vdev__gicd_8c.html" title="vdev/vdev_gicd.c" alt="" coords="824,160,947,189"/><area shape="rect" id="node20" href="vdev__sample_8c.html" title="vdev/vdev_sample.c" alt="" coords="597,237,739,267"/><area shape="rect" id="node24" href="vdev__timer_8c.html" title="vdev/vdev_timer.c" alt="" coords="333,237,461,267"/><area shape="rect" id="node26" href="interrupt_8c.html" title="interrupt.c" alt="" coords="1087,83,1167,112"/><area shape="rect" id="node28" href="sched__policy_8c.html" title="sched_policy.c" alt="" coords="1191,83,1300,112"/><area shape="rect" id="node30" href="scheduler_8h.html" title="scheduler.h" alt="" coords="53,83,141,112"/><area shape="rect" id="node35" href="trap_8c.html" title="trap.c" alt="" coords="1324,83,1377,112"/><area shape="rect" id="node42" href="virqmap_8c.html" title="virqmap.c" alt="" coords="1401,83,1479,112"/><area shape="rect" id="node18" href="vdev__sample_8h.html" title="vdev/vdev_sample.h" alt="" coords="541,160,683,189"/><area shape="rect" id="node22" href="vdev__timer_8h.html" title="vdev/vdev_timer.h" alt="" coords="389,160,517,189"/><area shape="rect" id="node33" href="scheduler_8c.html" title="scheduler.c" alt="" coords="5,160,93,189"/></map>
</div>
</div>
<p><a href="context_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structarch__regs.html">arch_regs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structarch__regs__cop.html">arch_regs_cop</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structarch__regs__banked.html">arch_regs_banked</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhyp__guest__context.html">hyp_guest_context</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a469821668f7cfd63c2dd4f05120f1ccf">ARCH_REGS_NUM_GPR</a>&#160;&#160;&#160;13</td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a5588893c974f2fb0f974e18a49110488">hyp_hvc_result_t</a> { <a class="el" href="context_8h.html#a5588893c974f2fb0f974e18a49110488ac5463bbf590e31d3f3d2bf1e6ae1bd39">HYP_RESULT_ERET</a> =  0, 
<a class="el" href="context_8h.html#a5588893c974f2fb0f974e18a49110488a5307b6644c0db1e03ef3025951f8a8b4">HYP_RESULT_STAY</a> =  1
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structarch__regs.html">arch_regs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a81c6ca411c5d54e1c6c30c0142e7a8df">__attribute</a> ((packed))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#aa662295d6861cedca861f13c4ad5ece4">context_dump_regs</a> (struct <a class="el" href="structarch__regs.html">arch_regs</a> *<a class="el" href="vdev__timer_8c.html#a514d7f36beee4b3e39da305e12d39d0a">regs</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a39db644c82cc9c99ef78feb58d57b58c">context_switch_to_initial_guest</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a0abdd106a2b654464230b622b4c9877e">context_init_guests</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a77fe269a194f9dcfcd0a599a9b6e3bfb">context_perform_switch</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a525fcf860b6f33b4192443c9d66ba4f6">context_current_vmid</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a3fd5aa68bf14823442fcc5fda4cb6a51">context_waiting_vmid</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#aaa75f8a973764763b44ca823e02f4406">context_switchto</a> (<a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> vmid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a00b56df45d0ef16d93040b667bb025ef">context_switchto_lock</a> (<a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> vmid, <a class="el" href="arch__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> locked)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a891f8f7028b04322da205990de1a8f5b">context_first_vmid</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#ad48a9977fdb537cc020b451e08dfc590">context_last_vmid</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a5719d5d4a8d98b9784d0f24a2023f05f">context_next_vmid</a> (<a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> ofvmid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structhyp__guest__context.html">hyp_guest_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#ae8e692844cf2c76f7661088f7a7be817">context_atvmid</a> (<a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> vmid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a83895de158b7efc9456e7475528e42d4">start_guest_os</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a0d1814f5edf1360a76b54ac386be5e85">cpsr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a27468faba76ab3fb5458fb06c0f2af8a">pc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a6ced3f4007bb60daf12191c058e55b8c">lr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a3397c2bbf4a3049cf5bca2831ada10b8">gpr</a> [<a class="el" href="context_8h.html#a469821668f7cfd63c2dd4f05120f1ccf">ARCH_REGS_NUM_GPR</a>]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structarch__regs__cop.html">arch_regs_cop</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="context_8h.html#a06b520051af1c5c2e4d477566b23baa7">__attribute</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a469821668f7cfd63c2dd4f05120f1ccf"></a><!-- doxytag: member="context.h::ARCH_REGS_NUM_GPR" ref="a469821668f7cfd63c2dd4f05120f1ccf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="context_8h.html#a469821668f7cfd63c2dd4f05120f1ccf">ARCH_REGS_NUM_GPR</a>&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8h_source.html#l00009">9</a> of file <a class="el" href="context_8h_source.html">context.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a5588893c974f2fb0f974e18a49110488"></a><!-- doxytag: member="context.h::hyp_hvc_result_t" ref="a5588893c974f2fb0f974e18a49110488" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="context_8h.html#a5588893c974f2fb0f974e18a49110488">hyp_hvc_result_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a5588893c974f2fb0f974e18a49110488ac5463bbf590e31d3f3d2bf1e6ae1bd39"></a><!-- doxytag: member="HYP_RESULT_ERET" ref="a5588893c974f2fb0f974e18a49110488ac5463bbf590e31d3f3d2bf1e6ae1bd39" args="" -->HYP_RESULT_ERET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a5588893c974f2fb0f974e18a49110488a5307b6644c0db1e03ef3025951f8a8b4"></a><!-- doxytag: member="HYP_RESULT_STAY" ref="a5588893c974f2fb0f974e18a49110488a5307b6644c0db1e03ef3025951f8a8b4" args="" -->HYP_RESULT_STAY</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="context_8h_source.html#l00011">11</a> of file <a class="el" href="context_8h_source.html">context.h</a>.</p>
<div class="fragment"><pre class="fragment">             {
        <a class="code" href="context_8h.html#a5588893c974f2fb0f974e18a49110488ac5463bbf590e31d3f3d2bf1e6ae1bd39">HYP_RESULT_ERET</a> = 0,
        <a class="code" href="context_8h.html#a5588893c974f2fb0f974e18a49110488a5307b6644c0db1e03ef3025951f8a8b4">HYP_RESULT_STAY</a> = 1
} <a class="code" href="context_8h.html#a5588893c974f2fb0f974e18a49110488">hyp_hvc_result_t</a>;
</pre></div>
</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a81c6ca411c5d54e1c6c30c0142e7a8df"></a><!-- doxytag: member="context.h::__attribute" ref="a81c6ca411c5d54e1c6c30c0142e7a8df" args="((packed))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structarch__regs.html">arch_regs</a> <a class="el" href="vmm_8c.html#a97063b985af7dad6fae4b4d7a8a69523">__attribute</a> </td>
          <td>(</td>
          <td class="paramtype">(packed)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae8e692844cf2c76f7661088f7a7be817"></a><!-- doxytag: member="context.h::context_atvmid" ref="ae8e692844cf2c76f7661088f7a7be817" args="(vmid_t vmid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhyp__guest__context.html">hyp_guest_context</a>* <a class="el" href="context_8h.html#ae8e692844cf2c76f7661088f7a7be817">context_atvmid</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td>
          <td class="paramname"><em>vmid</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00526">526</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">struct </span><a class="code" href="structhyp__guest__context.html">hyp_guest_context</a> * result = 0;

    <span class="keywordflow">if</span> ( <a class="code" href="structhyp__guest__context.html#a5aaea0584ec137718b51152ba747628b">vmid</a> &lt; <a class="code" href="context_8c.html#acf4405f8c387893e69eadc140804d0a4">NUM_GUEST_CONTEXTS</a> ) {
        result = &amp;<a class="code" href="context_8c.html#a7a55b222a2790b315eaf5dbe7a12c407">guest_contexts</a>[<a class="code" href="structhyp__guest__context.html#a5aaea0584ec137718b51152ba747628b">vmid</a>];
    }

    <span class="keywordflow">return</span> result;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a525fcf860b6f33b4192443c9d66ba4f6"></a><!-- doxytag: member="context.h::context_current_vmid" ref="a525fcf860b6f33b4192443c9d66ba4f6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> <a class="el" href="context_8h.html#a525fcf860b6f33b4192443c9d66ba4f6">context_current_vmid</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00562">562</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="context_8c.html#a5de72a0d4dd972c7d7d8c9d08272d9e8">_current_guest_vmid</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa662295d6861cedca861f13c4ad5ece4"></a><!-- doxytag: member="context.h::context_dump_regs" ref="aa662295d6861cedca861f13c4ad5ece4" args="(struct arch_regs *regs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="context_8h.html#aa662295d6861cedca861f13c4ad5ece4">context_dump_regs</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structarch__regs.html">arch_regs</a> *&#160;</td>
          <td class="paramname"><em>regs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00145">145</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifdef DEBUG</span>
<span class="preprocessor"></span>    uart_print( <span class="stringliteral">&quot;cpsr:&quot;</span> ); uart_print_hex32( regs-&gt;<a class="code" href="structarch__regs.html#a0d1814f5edf1360a76b54ac386be5e85">cpsr</a> ); uart_print( <span class="stringliteral">&quot;\n\r&quot;</span> );
    uart_print( <span class="stringliteral">&quot;  pc:&quot;</span> ); uart_print_hex32( regs-&gt;<a class="code" href="structarch__regs.html#afaa20335217fae16f0e22b466017dae1">pc</a> ); uart_print( <span class="stringliteral">&quot;\n\r&quot;</span> );
    uart_print( <span class="stringliteral">&quot;  lr:&quot;</span> ); uart_print_hex32( regs-&gt;<a class="code" href="structarch__regs.html#a6ced3f4007bb60daf12191c058e55b8c">lr</a> ); uart_print( <span class="stringliteral">&quot;\n\r&quot;</span> );

<span class="preprocessor">#ifdef __CONTEXT_TRACE_VERBOSE__</span>
<span class="preprocessor"></span>    {
        <span class="keywordtype">int</span> i;
        uart_print( <span class="stringliteral">&quot; gpr:\n\r&quot;</span> );
        <span class="keywordflow">for</span>( i = 0; i &lt; <a class="code" href="context_8h.html#a469821668f7cfd63c2dd4f05120f1ccf">ARCH_REGS_NUM_GPR</a>; i++) {
            uart_print( <span class="stringliteral">&quot;     &quot;</span> ); uart_print_hex32( regs-&gt;<a class="code" href="structarch__regs.html#a3397c2bbf4a3049cf5bca2831ada10b8">gpr</a>[i] ); uart_print( <span class="stringliteral">&quot;\n\r&quot;</span> );
        }
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a891f8f7028b04322da205990de1a8f5b"></a><!-- doxytag: member="context.h::context_first_vmid" ref="a891f8f7028b04322da205990de1a8f5b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> <a class="el" href="context_8h.html#a891f8f7028b04322da205990de1a8f5b">context_first_vmid</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00538">538</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">/* FIXME:Hardcoded for now */</span>
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0abdd106a2b654464230b622b4c9877e"></a><!-- doxytag: member="context.h::context_init_guests" ref="a0abdd106a2b654464230b622b4c9877e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="context_8h.html#a0abdd106a2b654464230b622b4c9877e">context_init_guests</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00468">468</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">struct </span><a class="code" href="structhyp__guest__context.html">hyp_guest_context</a> *context;
    <span class="keyword">struct </span><a class="code" href="structarch__regs.html">arch_regs</a> *<a class="code" href="vdev__sample_8c.html#a83967e2c2e61558528fec54f1060435b">regs</a> = 0;

    
    uart_print(<span class="stringliteral">&quot;[hyp] init_guests: enter\n\r&quot;</span>);


    <span class="comment">/* Guest 1 @guest_bin_start */</span>
    context = &amp;<a class="code" href="context_8c.html#a7a55b222a2790b315eaf5dbe7a12c407">guest_contexts</a>[0];
    regs = &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#a6fd37717ff9cb8421e3e19acc489b565">regs</a>;
    regs-&gt;<a class="code" href="structarch__regs.html#a0d1814f5edf1360a76b54ac386be5e85">cpsr</a> = 0x1d3;         <span class="comment">// supervisor, interrupt disabled</span>
<span class="preprocessor">#if defined (LINUX_GUEST)</span>
<span class="preprocessor"></span>    regs-&gt;<a class="code" href="structarch__regs.html#afaa20335217fae16f0e22b466017dae1">pc</a> = 0xA0008000;      <span class="comment">// PA:0xA0008000, where zImage is</span>
    regs-&gt;<a class="code" href="structarch__regs.html#a3397c2bbf4a3049cf5bca2831ada10b8">gpr</a>[1] = CFG_MACHINE_NUMBER;
    regs-&gt;<a class="code" href="structarch__regs.html#a3397c2bbf4a3049cf5bca2831ada10b8">gpr</a>[2] = 0x80000100;  <span class="comment">//src+(0x100/4);</span>
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    regs-&gt;<a class="code" href="structarch__regs.html#afaa20335217fae16f0e22b466017dae1">pc</a> = 0x80000000;      <span class="comment">// PA:0xA0000000, default entry for bmguest</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="comment">/* regs-&gt;gpr[] = whatever */</span>
    context-&gt;<a class="code" href="structhyp__guest__context.html#a5aaea0584ec137718b51152ba747628b">vmid</a> = 0;
    context-&gt;<a class="code" href="structhyp__guest__context.html#af96dd8c0db5b16addac6cbaa292894d1">ttbl</a> = <a class="code" href="vmm_8c.html#a269ada885aa7296fc4601e4cfe6a134b">vmm_vmid_ttbl</a>(context-&gt;<a class="code" href="structhyp__guest__context.html#a5aaea0584ec137718b51152ba747628b">vmid</a>);
    <a class="code" href="context_8c.html#a3b7e34c1497427e5fdcc9b059fb813be">context_init_cops</a>( &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#a216fdbbf2a31b2bef63e2c013f25ce51">regs_cop</a> );
    <a class="code" href="context_8c.html#a6daf5c209647b93b848801070e6e30ef">context_init_banked</a>( &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#a16825e70a665e6368fce044d9f1fdb07">regs_banked</a> );
    <a class="code" href="vgic_8c.html#ac901a925af53a53bf1840d9be9acd2e0">vgic_init_status</a>( &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#aaf1e3e694ca7bf2cbda2d9817f3e9389">vgic_status</a>, context-&gt;<a class="code" href="structhyp__guest__context.html#a5aaea0584ec137718b51152ba747628b">vmid</a> );

    <span class="comment">/* Guest 2 @guest2_bin_start */</span>
    context = &amp;<a class="code" href="context_8c.html#a7a55b222a2790b315eaf5dbe7a12c407">guest_contexts</a>[1];
    regs = &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#a6fd37717ff9cb8421e3e19acc489b565">regs</a>;
    regs-&gt;<a class="code" href="structarch__regs.html#afaa20335217fae16f0e22b466017dae1">pc</a> = 0x80000000;  <span class="comment">// PA: 0xB0000000</span>
    regs-&gt;<a class="code" href="structarch__regs.html#a0d1814f5edf1360a76b54ac386be5e85">cpsr</a> = 0x1d3; <span class="comment">// supervisor, interrupt disabled</span>

    <span class="comment">/* regs-&gt;gpr[] = whatever */</span>
    context-&gt;<a class="code" href="structhyp__guest__context.html#a5aaea0584ec137718b51152ba747628b">vmid</a> = 1;
    context-&gt;<a class="code" href="structhyp__guest__context.html#af96dd8c0db5b16addac6cbaa292894d1">ttbl</a> = <a class="code" href="vmm_8c.html#a269ada885aa7296fc4601e4cfe6a134b">vmm_vmid_ttbl</a>(context-&gt;<a class="code" href="structhyp__guest__context.html#a5aaea0584ec137718b51152ba747628b">vmid</a>);
    <a class="code" href="context_8c.html#a3b7e34c1497427e5fdcc9b059fb813be">context_init_cops</a>( &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#a216fdbbf2a31b2bef63e2c013f25ce51">regs_cop</a> );
    <a class="code" href="context_8c.html#a6daf5c209647b93b848801070e6e30ef">context_init_banked</a>( &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#a16825e70a665e6368fce044d9f1fdb07">regs_banked</a> );
    <a class="code" href="vgic_8c.html#ac901a925af53a53bf1840d9be9acd2e0">vgic_init_status</a>( &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#aaf1e3e694ca7bf2cbda2d9817f3e9389">vgic_status</a>, context-&gt;<a class="code" href="structhyp__guest__context.html#a5aaea0584ec137718b51152ba747628b">vmid</a> );

<span class="preprocessor">#if defined (LINUX_GUEST)</span>
<span class="preprocessor"></span>    <a class="code" href="context_8c.html#a3a2da2487bde91bb02d3363bd17d905a">_hyp_guest0_copy_zimage</a>();
<span class="preprocessor">#elif defined (BAREMETAL_GUEST) </span>
<span class="preprocessor"></span>    <span class="comment">/* Workaround for unloaded bmguest.bin at 0xB0000000@PA */</span>
    _hyp_fixup_unloaded_guest();
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#if defined (LINUX_GUEST)</span>
<span class="preprocessor"></span>    {
        <span class="keyword">extern</span> <a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="vmm_8c.html#a6834f1cdeb19fe290ffeb2f62394e5cd">guest_bin_start</a>;
        <a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *src = &amp;guest_bin_start;
        <a class="code" href="loadlinux_8c.html#a2a6cc0b74cefed5f4e51dad4629113b6">loadlinux_setup_tags</a>(src);
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    uart_print(<span class="stringliteral">&quot;[hyp] init_guests: return\n\r&quot;</span>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="context_8h_a0abdd106a2b654464230b622b4c9877e_cgraph.png" border="0" usemap="#context_8h_a0abdd106a2b654464230b622b4c9877e_cgraph" alt=""/></div>
<map name="context_8h_a0abdd106a2b654464230b622b4c9877e_cgraph" id="context_8h_a0abdd106a2b654464230b622b4c9877e_cgraph">
<area shape="rect" id="node3" href="vmm_8c.html#a269ada885aa7296fc4601e4cfe6a134b" title="vmm_vmid_ttbl" alt="" coords="225,5,335,35"/><area shape="rect" id="node5" href="context_8c.html#a3b7e34c1497427e5fdcc9b059fb813be" title="context_init_cops" alt="" coords="219,59,341,88"/><area shape="rect" id="node7" href="context_8c.html#a6daf5c209647b93b848801070e6e30ef" title="context_init_banked" alt="" coords="211,112,349,141"/><area shape="rect" id="node9" href="vgic_8c.html#ac901a925af53a53bf1840d9be9acd2e0" title="vgic_init_status" alt="" coords="224,165,336,195"/><area shape="rect" id="node11" href="context_8c.html#a3a2da2487bde91bb02d3363bd17d905a" title="_hyp_guest0_copy_zimage" alt="" coords="191,219,369,248"/><area shape="rect" id="node13" href="loadlinux_8c.html#a2a6cc0b74cefed5f4e51dad4629113b6" title="loadlinux_setup_tags" alt="" coords="208,272,352,301"/><area shape="rect" id="node15" href="loadlinux_8c.html#a10904ac070605f86d3606ba299f64b49" title="setup_core_tag" alt="" coords="429,165,539,195"/><area shape="rect" id="node17" href="loadlinux_8c.html#a1a183928400cc8188e5b66f19998fd5c" title="setup_cmdline_tag" alt="" coords="419,219,549,248"/><area shape="rect" id="node19" href="loadlinux_8c.html#a9c037ad7fb55ab7bd4472f24f37497e9" title="setup_revision_tag" alt="" coords="419,272,549,301"/><area shape="rect" id="node21" href="loadlinux_8c.html#a60b7de4ae0bfc8c455be4e08cd9f62bf" title="setup_mem_tag" alt="" coords="427,325,541,355"/><area shape="rect" id="node23" href="loadlinux_8c.html#a1792ccde316d08f0860e600a061f8a74" title="setup_end_tag" alt="" coords="431,379,537,408"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad48a9977fdb537cc020b451e08dfc590"></a><!-- doxytag: member="context.h::context_last_vmid" ref="ad48a9977fdb537cc020b451e08dfc590" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> <a class="el" href="context_8h.html#ad48a9977fdb537cc020b451e08dfc590">context_last_vmid</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00544">544</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">/* FIXME:Hardcoded for now */</span>
    <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5719d5d4a8d98b9784d0f24a2023f05f"></a><!-- doxytag: member="context.h::context_next_vmid" ref="a5719d5d4a8d98b9784d0f24a2023f05f" args="(vmid_t ofvmid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> <a class="el" href="context_8h.html#a5719d5d4a8d98b9784d0f24a2023f05f">context_next_vmid</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td>
          <td class="paramname"><em>ofvmid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00550">550</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> next = <a class="code" href="hvmm__types_8h.html#a286d5f39683a49a6e5d4ef92043b3c9f">VMID_INVALID</a>;
    <span class="keywordflow">if</span> ( ofvmid == <a class="code" href="hvmm__types_8h.html#a286d5f39683a49a6e5d4ef92043b3c9f">VMID_INVALID</a> ) {
        next = <a class="code" href="context_8c.html#a891f8f7028b04322da205990de1a8f5b">context_first_vmid</a>();
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ofvmid &lt; <a class="code" href="context_8c.html#ad48a9977fdb537cc020b451e08dfc590">context_last_vmid</a>() ) {
        <span class="comment">/* FIXME:Hardcoded */</span>
        next = ofvmid + 1;
    }
    <span class="keywordflow">return</span> next;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="context_8h_a5719d5d4a8d98b9784d0f24a2023f05f_cgraph.png" border="0" usemap="#context_8h_a5719d5d4a8d98b9784d0f24a2023f05f_cgraph" alt=""/></div>
<map name="context_8h_a5719d5d4a8d98b9784d0f24a2023f05f_cgraph" id="context_8h_a5719d5d4a8d98b9784d0f24a2023f05f_cgraph">
<area shape="rect" id="node3" href="context_8c.html#a891f8f7028b04322da205990de1a8f5b" title="context_first_vmid" alt="" coords="188,5,316,35"/><area shape="rect" id="node5" href="context_8c.html#ad48a9977fdb537cc020b451e08dfc590" title="context_last_vmid" alt="" coords="188,59,316,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a77fe269a194f9dcfcd0a599a9b6e3bfb"></a><!-- doxytag: member="context.h::context_perform_switch" ref="a77fe269a194f9dcfcd0a599a9b6e3bfb" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a> <a class="el" href="context_8h.html#a77fe269a194f9dcfcd0a599a9b6e3bfb">context_perform_switch</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00419">419</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a> result = <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2af0867c4f6ed7b73f7395ec73ab840989">HVMM_STATUS_IGNORED</a>;

    <span class="keywordflow">if</span> ( <a class="code" href="context_8c.html#a5de72a0d4dd972c7d7d8c9d08272d9e8">_current_guest_vmid</a> == <a class="code" href="hvmm__types_8h.html#a286d5f39683a49a6e5d4ef92043b3c9f">VMID_INVALID</a> ) {
        printh(<span class="stringliteral">&quot;context: launching the first guest\n&quot;</span>);
        <span class="comment">/* very first time, to the default first guest */</span>
        result = <a class="code" href="context_8c.html#adbcfdbfe8d61021879f1622e2c6dc29c">context_perform_switch_to_guest_regs</a>( 0, <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a> );
        <span class="comment">/* DOES NOT COME BACK HERE */</span>
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a> != <a class="code" href="hvmm__types_8h.html#a286d5f39683a49a6e5d4ef92043b3c9f">VMID_INVALID</a> &amp;&amp; <a class="code" href="context_8c.html#a5de72a0d4dd972c7d7d8c9d08272d9e8">_current_guest_vmid</a> != <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a> ) {
        <span class="keyword">struct </span><a class="code" href="structarch__regs.html">arch_regs</a> *<a class="code" href="vdev__sample_8c.html#a83967e2c2e61558528fec54f1060435b">regs</a> = <a class="code" href="trap_8c.html#a795de22500c2371c39b9275b38e10b91">trap_saved_regs</a>();
        <span class="keywordflow">if</span> ( (regs-&gt;<a class="code" href="structarch__regs.html#a0d1814f5edf1360a76b54ac386be5e85">cpsr</a> &amp; 0x1F) != 0x1A ) {
            printh(<span class="stringliteral">&quot;curr: %x\n&quot;</span>, <a class="code" href="context_8c.html#a5de72a0d4dd972c7d7d8c9d08272d9e8">_current_guest_vmid</a>);
            printh(<span class="stringliteral">&quot;next: %x\n&quot;</span>, <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a>);

            <span class="comment">/* Only if not from Hyp */</span>
            result = <a class="code" href="context_8c.html#adbcfdbfe8d61021879f1622e2c6dc29c">context_perform_switch_to_guest_regs</a>( regs, <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a> );
            <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a> = <a class="code" href="hvmm__types_8h.html#a286d5f39683a49a6e5d4ef92043b3c9f">VMID_INVALID</a>;
        }
    } <span class="keywordflow">else</span> {
        <span class="comment">/* Staying at the currently active guest. Flush out queued virqs since we didn&#39;t have a chance to switch the context, where virq flush takes place,  this time */</span>
        <a class="code" href="vgic_8c.html#acb00c28d2618d3581a7d26f8e265ccb8">vgic_flush_virqs</a>(<a class="code" href="context_8c.html#a5de72a0d4dd972c7d7d8c9d08272d9e8">_current_guest_vmid</a>);
    }

    <a class="code" href="context_8c.html#a345440f03deca2090efe13b08eaead89">_switch_locked</a> = 0;
    <span class="keywordflow">return</span> result;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="context_8h_a77fe269a194f9dcfcd0a599a9b6e3bfb_cgraph.png" border="0" usemap="#context_8h_a77fe269a194f9dcfcd0a599a9b6e3bfb_cgraph" alt=""/></div>
<map name="context_8h_a77fe269a194f9dcfcd0a599a9b6e3bfb_cgraph" id="context_8h_a77fe269a194f9dcfcd0a599a9b6e3bfb_cgraph">
<area shape="rect" id="node3" href="context_8c.html#adbcfdbfe8d61021879f1622e2c6dc29c" title="context_perform_switch_to_guest_regs" alt="" coords="216,272,467,301"/><area shape="rect" id="node21" href="vgic_8c.html#acb00c28d2618d3581a7d26f8e265ccb8" title="vgic_flush_virqs" alt="" coords="781,459,896,488"/><area shape="rect" id="node35" href="trap_8c.html#a795de22500c2371c39b9275b38e10b91" title="trap_saved_regs" alt="" coords="283,589,400,619"/><area shape="rect" id="node5" href="vmm_8c.html#aad790266948b8b547025a7a62006f0da" title="vmm_stage2_enable" alt="" coords="551,5,692,35"/><area shape="rect" id="node7" href="context_8c.html#a58e0589f3c325fe4e8cd8cdd215d1e8b" title="context_copy_regs" alt="" coords="556,59,687,88"/><area shape="rect" id="node9" href="context_8c.html#a9a5bddd4742fe9c4cc8ee9fa50cf03bf" title="context_save_cops" alt="" coords="555,112,688,141"/><area shape="rect" id="node11" href="context_8c.html#a57af844ae7e83a33d88a4c36eee930eb" title="context_save_banked" alt="" coords="547,165,696,195"/><area shape="rect" id="node13" href="vgic_8c.html#aebad7b956b2c36d2bbe7acdbe333ae8a" title="vgic_save_status" alt="" coords="560,219,683,248"/><area shape="rect" id="node17" href="vmm_8c.html#afee733063f1c9c6f9fa314492d1ffb11" title="vmm_set_vmid_ttbl" alt="" coords="553,272,689,301"/><area shape="rect" id="node19" href="vgic_8c.html#a70332a1790f88fbcb1a4c7014e6b6a02" title="vgic_restore_status" alt="" coords="553,325,689,355"/><area shape="rect" id="node29" href="context_8c.html#a86f464d89297ef8121c2f36141c221a7" title="__mon_switch_to_guest_context" alt="" coords="515,379,728,408"/><area shape="rect" id="node31" href="context_8c.html#a2d3fdf44ea523c8f4978cf9c33107768" title="context_restore_cops" alt="" coords="548,432,695,461"/><area shape="rect" id="node33" href="context_8c.html#a94bb8d6785586134cc873c061076d323" title="context_restore_banked" alt="" coords="541,485,701,515"/><area shape="rect" id="node15" href="vgic_8c.html#a4cf554520738a7934bc4e6917853330c" title="vgic_enable" alt="" coords="793,219,884,248"/><area shape="rect" id="node23" href="vgic_8c.html#abfca2f5be8dfbb355800d70dbda23b5e" title="_vgic_dump_regs" alt="" coords="777,325,900,355"/><area shape="rect" id="node25" href="vgic_8c.html#ac1d43326139a3717d69ce1f876cd221c" title="vgic_is_free_slot" alt="" coords="949,325,1069,355"/><area shape="rect" id="node27" href="vgic_8c.html#aab31fc8d2c44ebb938b78cfb1f7c975f" title="vgic_find_free_slot" alt="" coords="1117,325,1248,355"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a39db644c82cc9c99ef78feb58d57b58c"></a><!-- doxytag: member="context.h::context_switch_to_initial_guest" ref="a39db644c82cc9c99ef78feb58d57b58c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="context_8h.html#a39db644c82cc9c99ef78feb58d57b58c">context_switch_to_initial_guest</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00447">447</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">struct </span><a class="code" href="structhyp__guest__context.html">hyp_guest_context</a> *context = 0;
    <span class="keyword">struct </span><a class="code" href="structarch__regs.html">arch_regs</a> *<a class="code" href="vdev__sample_8c.html#a83967e2c2e61558528fec54f1060435b">regs</a> = 0;

    uart_print(<span class="stringliteral">&quot;[hyp] switch_to_initial_guest:\n\r&quot;</span>);

    <span class="comment">/* Select the first guest context to switch to. */</span>
    <a class="code" href="context_8c.html#a5de72a0d4dd972c7d7d8c9d08272d9e8">_current_guest_vmid</a> = <a class="code" href="hvmm__types_8h.html#a286d5f39683a49a6e5d4ef92043b3c9f">VMID_INVALID</a>;
    context = &amp;<a class="code" href="context_8c.html#a7a55b222a2790b315eaf5dbe7a12c407">guest_contexts</a>[0];

    <span class="comment">/* Dump the initial register values of the guest for debugging purpose */</span>
    regs = &amp;context-&gt;<a class="code" href="structhyp__guest__context.html#a6fd37717ff9cb8421e3e19acc489b565">regs</a>;
    <a class="code" href="context_8c.html#aa662295d6861cedca861f13c4ad5ece4">context_dump_regs</a>( regs );

    <span class="comment">/* Context Switch with current context == none */</span>
    <a class="code" href="context_8c.html#aaa75f8a973764763b44ca823e02f4406">context_switchto</a>(0);
    <a class="code" href="context_8c.html#a77fe269a194f9dcfcd0a599a9b6e3bfb">context_perform_switch</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="context_8h_a39db644c82cc9c99ef78feb58d57b58c_cgraph.png" border="0" usemap="#context_8h_a39db644c82cc9c99ef78feb58d57b58c_cgraph" alt=""/></div>
<map name="context_8h_a39db644c82cc9c99ef78feb58d57b58c_cgraph" id="context_8h_a39db644c82cc9c99ef78feb58d57b58c_cgraph">
<area shape="rect" id="node3" href="context_8c.html#aa662295d6861cedca861f13c4ad5ece4" title="context_dump_regs" alt="" coords="272,272,408,301"/><area shape="rect" id="node5" href="context_8c.html#aaa75f8a973764763b44ca823e02f4406" title="context_switchto" alt="" coords="280,325,400,355"/><area shape="rect" id="node9" href="context_8c.html#a77fe269a194f9dcfcd0a599a9b6e3bfb" title="context_perform_switch" alt="" coords="260,484,420,513"/><area shape="rect" id="node7" href="context_8c.html#a00b56df45d0ef16d93040b667bb025ef" title="context_switchto_lock" alt="" coords="519,245,671,275"/><area shape="rect" id="node11" href="context_8c.html#adbcfdbfe8d61021879f1622e2c6dc29c" title="context_perform_switch_to_guest_regs" alt="" coords="469,299,720,328"/><area shape="rect" id="node29" href="vgic_8c.html#acb00c28d2618d3581a7d26f8e265ccb8" title="vgic_flush_virqs" alt="" coords="1035,459,1149,488"/><area shape="rect" id="node43" href="trap_8c.html#a795de22500c2371c39b9275b38e10b91" title="trap_saved_regs" alt="" coords="536,589,653,619"/><area shape="rect" id="node13" href="vmm_8c.html#aad790266948b8b547025a7a62006f0da" title="vmm_stage2_enable" alt="" coords="804,5,945,35"/><area shape="rect" id="node15" href="context_8c.html#a58e0589f3c325fe4e8cd8cdd215d1e8b" title="context_copy_regs" alt="" coords="809,59,940,88"/><area shape="rect" id="node17" href="context_8c.html#a9a5bddd4742fe9c4cc8ee9fa50cf03bf" title="context_save_cops" alt="" coords="808,112,941,141"/><area shape="rect" id="node19" href="context_8c.html#a57af844ae7e83a33d88a4c36eee930eb" title="context_save_banked" alt="" coords="800,165,949,195"/><area shape="rect" id="node21" href="vgic_8c.html#aebad7b956b2c36d2bbe7acdbe333ae8a" title="vgic_save_status" alt="" coords="813,219,936,248"/><area shape="rect" id="node25" href="vmm_8c.html#afee733063f1c9c6f9fa314492d1ffb11" title="vmm_set_vmid_ttbl" alt="" coords="807,272,943,301"/><area shape="rect" id="node27" href="vgic_8c.html#a70332a1790f88fbcb1a4c7014e6b6a02" title="vgic_restore_status" alt="" coords="807,325,943,355"/><area shape="rect" id="node37" href="context_8c.html#a86f464d89297ef8121c2f36141c221a7" title="__mon_switch_to_guest_context" alt="" coords="768,379,981,408"/><area shape="rect" id="node39" href="context_8c.html#a2d3fdf44ea523c8f4978cf9c33107768" title="context_restore_cops" alt="" coords="801,432,948,461"/><area shape="rect" id="node41" href="context_8c.html#a94bb8d6785586134cc873c061076d323" title="context_restore_banked" alt="" coords="795,485,955,515"/><area shape="rect" id="node23" href="vgic_8c.html#a4cf554520738a7934bc4e6917853330c" title="vgic_enable" alt="" coords="1047,219,1137,248"/><area shape="rect" id="node31" href="vgic_8c.html#abfca2f5be8dfbb355800d70dbda23b5e" title="_vgic_dump_regs" alt="" coords="1031,325,1153,355"/><area shape="rect" id="node33" href="vgic_8c.html#ac1d43326139a3717d69ce1f876cd221c" title="vgic_is_free_slot" alt="" coords="1203,325,1323,355"/><area shape="rect" id="node35" href="vgic_8c.html#aab31fc8d2c44ebb938b78cfb1f7c975f" title="vgic_find_free_slot" alt="" coords="1371,325,1501,355"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa75f8a973764763b44ca823e02f4406"></a><!-- doxytag: member="context.h::context_switchto" ref="aaa75f8a973764763b44ca823e02f4406" args="(vmid_t vmid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a> <a class="el" href="context_8h.html#aaa75f8a973764763b44ca823e02f4406">context_switchto</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td>
          <td class="paramname"><em>vmid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00572">572</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="context_8c.html#a00b56df45d0ef16d93040b667bb025ef">context_switchto_lock</a>(vmid, 0);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="context_8h_aaa75f8a973764763b44ca823e02f4406_cgraph.png" border="0" usemap="#context_8h_aaa75f8a973764763b44ca823e02f4406_cgraph" alt=""/></div>
<map name="context_8h_aaa75f8a973764763b44ca823e02f4406_cgraph" id="context_8h_aaa75f8a973764763b44ca823e02f4406_cgraph">
<area shape="rect" id="node3" href="context_8c.html#a00b56df45d0ef16d93040b667bb025ef" title="context_switchto_lock" alt="" coords="176,5,328,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a00b56df45d0ef16d93040b667bb025ef"></a><!-- doxytag: member="context.h::context_switchto_lock" ref="a00b56df45d0ef16d93040b667bb025ef" args="(vmid_t vmid, uint8_t locked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a> <a class="el" href="context_8h.html#a00b56df45d0ef16d93040b667bb025ef">context_switchto_lock</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a>&#160;</td>
          <td class="paramname"><em>vmid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arch__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00577">577</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a> result = <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2af0867c4f6ed7b73f7395ec73ab840989">HVMM_STATUS_IGNORED</a>;

    <a class="code" href="hvmm__trace_8h.html#afd02d86121dd2e186b6240f52df4c716">HVMM_TRACE_ENTER</a>();

    <span class="comment">/* valid and not current vmid, switch */</span>
    <span class="keywordflow">if</span> (<a class="code" href="context_8c.html#a345440f03deca2090efe13b08eaead89">_switch_locked</a> == 0) {
        <span class="keywordflow">if</span> ( !<a class="code" href="context_8c.html#a6523708467fd815ab3dad9638219c7c2">_valid_vmid</a>(vmid) ) {
            result = <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2aa57f4b3848d90559e38172fc5a1e561b">HVMM_STATUS_BAD_ACCESS</a>;
        } <span class="keywordflow">else</span> {
            <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a> = vmid;
            result = <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2addc8231abb0339e0a6abc0d34b156faf">HVMM_STATUS_SUCCESS</a>;

            printh(<span class="stringliteral">&quot;switching to vmid: %x\n&quot;</span>, (<a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)vmid);
        }
    } <span class="keywordflow">else</span> {
        printh(<span class="stringliteral">&quot;context: next vmid locked to %d\n&quot;</span>, <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a> );
    }

    <span class="keywordflow">if</span> ( locked )
        <a class="code" href="context_8c.html#a345440f03deca2090efe13b08eaead89">_switch_locked</a> = locked;

    <a class="code" href="hvmm__trace_8h.html#a9b123d92a0aece2a4900afdc8ab8016f">HVMM_TRACE_EXIT</a>();
    <span class="keywordflow">return</span> result;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3fd5aa68bf14823442fcc5fda4cb6a51"></a><!-- doxytag: member="context.h::context_waiting_vmid" ref="a3fd5aa68bf14823442fcc5fda4cb6a51" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hvmm__types_8h.html#af7e9bd0adfb7d10e7a7a0ee60a5f962c">vmid_t</a> <a class="el" href="context_8h.html#a3fd5aa68bf14823442fcc5fda4cb6a51">context_waiting_vmid</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00567">567</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="context_8c.html#a5f1b0bb9a3d788646bb83d32d12419f3">_next_guest_vmid</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a83895de158b7efc9456e7475528e42d4"></a><!-- doxytag: member="context.h::start_guest_os" ref="a83895de158b7efc9456e7475528e42d4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="context_8h.html#a83895de158b7efc9456e7475528e42d4">start_guest_os</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8c_source.html#l00604">604</a> of file <a class="el" href="context_8c_source.html">context.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    init_print();

    <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2">hvmm_status_t</a> ret = <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2ab18889db955a0948118dabdfa0e38b30">HVMM_STATUS_UNKNOWN_ERROR</a>;
    printh(<span class="stringliteral">&quot;[%s : %d] Starting...\n&quot;</span>, __FUNCTION__, __LINE__);

    <span class="comment">/* Initialize Memory Management */</span>
    ret = <a class="code" href="mm_8c.html#ae8f2b7d0b30b5fa78b50cee688872d93">hvmm_mm_init</a>();

    <span class="comment">/* Initialize Interrupt Management */</span>
    ret = <a class="code" href="interrupt_8c.html#a684bacf4c9e7ced32242a2494d14d675">hvmm_interrupt_init</a>();
    <span class="keywordflow">if</span> ( ret != <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2addc8231abb0339e0a6abc0d34b156faf">HVMM_STATUS_SUCCESS</a> ) {
        uart_print(<span class="stringliteral">&quot;[hyp_main] interrupt initialization failed...\n\r&quot;</span>);
    }

    <span class="comment">/* Initialize Guests */</span>
    <a class="code" href="context_8c.html#a0abdd106a2b654464230b622b4c9877e">context_init_guests</a>();

    <span class="comment">/* Initialize Virtual Devices */</span>
    <a class="code" href="vdev_8h.html#ae5a6fee7377fe25c30418c102674e153">vdev_init</a>();

    <span class="comment">/* Virtual GIC Distributor */</span>
    printh( <span class="stringliteral">&quot;tests: Registering sample vdev:&#39;vgicd&#39; at %x\n&quot;</span>, CFG_GIC_BASE_PA | <a class="code" href="gic__regs_8h.html#a9588f04e7045a677e620fe2f23bdb0a2">GIC_OFFSET_GICD</a>);
    <a class="code" href="vdev__gicd_8c.html#a486b6cd2f61165a52985b53909512566">vdev_gicd_init</a>(CFG_GIC_BASE_PA | <a class="code" href="gic__regs_8h.html#a9588f04e7045a677e620fe2f23bdb0a2">GIC_OFFSET_GICD</a>);

    <span class="comment">/* Initialize PIRQ to VIRQ mapping */</span>
    <a class="code" href="virqmap_8c.html#ae23dfc79ba4183fbf86031da2ce4d51c">virqmap_init</a>();

    <span class="comment">/* Start Scheduling */</span>
    <a class="code" href="scheduler_8c.html#abf4312fa4f0d29c7afbefc5ce43a31b7">scheduler_test_scheduling</a>();

    <span class="comment">/* Begin running test code for newly implemented features */</span>
    hvmm_tests_main();

    <span class="comment">/* Print Banner */</span>
    printH(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="version_8h.html#a25559ea480408a5475fc107e48760cc1">BANNER_STRING</a>);

    <span class="comment">/* Switch to the first guest */</span>
    <a class="code" href="context_8c.html#a39db644c82cc9c99ef78feb58d57b58c">context_switch_to_initial_guest</a>();

    <span class="comment">/* The code flow must not reach here */</span>
    uart_print(<span class="stringliteral">&quot;[hyp_main] ERROR: CODE MUST NOT REACH HERE\n\r&quot;</span>);
    <a class="code" href="hvmm__trace_8h.html#aaf886005c496be8f91adae4d34b9a334">hyp_abort_infinite</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="context_8h_a83895de158b7efc9456e7475528e42d4_cgraph.png" border="0" usemap="#context_8h_a83895de158b7efc9456e7475528e42d4_cgraph" alt=""/></div>
<map name="context_8h_a83895de158b7efc9456e7475528e42d4_cgraph" id="context_8h_a83895de158b7efc9456e7475528e42d4_cgraph">
<area shape="rect" id="node3" href="mm_8c.html#ae8f2b7d0b30b5fa78b50cee688872d93" title="hvmm_mm_init" alt="" coords="211,219,320,248"/><area shape="rect" id="node23" href="interrupt_8c.html#a684bacf4c9e7ced32242a2494d14d675" title="hvmm_interrupt_init" alt="" coords="197,619,333,648"/><area shape="rect" id="node49" href="context_8c.html#a0abdd106a2b654464230b622b4c9877e" title="context_init_guests" alt="" coords="199,885,332,915"/><area shape="rect" id="node63" href="vdev_8h.html#ae5a6fee7377fe25c30418c102674e153" title="vdev_init" alt="" coords="228,1045,303,1075"/><area shape="rect" id="node65" href="vdev__gicd_8c.html#a486b6cd2f61165a52985b53909512566" title="vdev_gicd_init" alt="" coords="213,1099,317,1128"/><area shape="rect" id="node73" href="virqmap_8c.html#ae23dfc79ba4183fbf86031da2ce4d51c" title="virqmap_init" alt="" coords="220,1205,311,1235"/><area shape="rect" id="node79" href="scheduler_8c.html#abf4312fa4f0d29c7afbefc5ce43a31b7" title="scheduler_test_scheduling" alt="" coords="177,1419,353,1448"/><area shape="rect" id="node93" href="context_8c.html#a39db644c82cc9c99ef78feb58d57b58c" title="context_switch_to_initial_guest" alt="" coords="164,1659,367,1688"/><area shape="rect" id="node5" href="vmm_8c.html#a34e0e13c32b08fd108582567c29ccebf" title="vmm_init" alt="" coords="535,59,609,88"/><area shape="rect" id="node11" href="mm_8c.html#aa82c7756438b1aa5429be9ee49aea5ed" title="_hmm_init" alt="" coords="531,192,613,221"/><area shape="rect" id="node21" href="mm_8c.html#a7c9c4518af771f7f39434b5dcc41d1d4" title="hmm_heap_init" alt="" coords="517,245,627,275"/><area shape="rect" id="node7" href="vmm_8c.html#af16a19da3c025dd4aaa0e40ae0bcb205" title="vmm_init_ttbl" alt="" coords="824,5,923,35"/><area shape="rect" id="node9" href="vmm_8c.html#a38fe20d83b4f1d4ceb4f7f9b737a6f2d" title="vmm_init_mmu" alt="" coords="819,59,928,88"/><area shape="rect" id="node13" href="lpae_8c.html#aaa674eddb596444230e0aea1ba32e90e" title="hvmm_mm_lpaed_l1_block" alt="" coords="784,112,963,141"/><area shape="rect" id="node15" href="lpae_8c.html#a804b9089155c7bc74ccea12d009c36fd" title="hvmm_mm_lpaed_l1_table" alt="" coords="785,165,961,195"/><area shape="rect" id="node17" href="lpae_8c.html#a6dba6fbdc7725faf61722eff42e18bbc" title="hvmm_mm_lpaed_l2_table" alt="" coords="785,219,961,248"/><area shape="rect" id="node19" href="lpae_8c.html#a1f31704271c412a5077309bf60b83f86" title="hvmm_mm_lpaed_l3_table" alt="" coords="785,272,961,301"/><area shape="rect" id="node25" href="gic_8c.html#a0913d7e2dc598b3eb2cb09c4a1185cbe" title="gic_init" alt="" coords="541,432,603,461"/><area shape="rect" id="node35" href="vgic_8c.html#a2e0db8f93d8d6a61d737de34aeeed516" title="vgic_init" alt="" coords="537,565,607,595"/><area shape="rect" id="node45" href="vgic_8c.html#a4cf554520738a7934bc4e6917853330c" title="vgic_enable" alt="" coords="527,619,617,648"/><area shape="rect" id="node47" href="virq_8c.html#a47f4ee9004f1b4f6a87cf6e1f4c51557" title="virq_init" alt="" coords="539,672,605,701"/><area shape="rect" id="node27" href="gic_8c.html#ac9cad87ffdf3a3e1cde6002ea3f347a9" title="gic_init_baseaddr" alt="" coords="812,325,935,355"/><area shape="rect" id="node29" href="gic_8c.html#a355755273aee03b63c4a9aa6e7e4a95e" title="gic_dump_registers" alt="" coords="807,379,940,408"/><area shape="rect" id="node31" href="gic_8c.html#a592c46444cc3e5696daa78bedbbe31f3" title="gic_init_dist" alt="" coords="828,432,919,461"/><area shape="rect" id="node33" href="gic_8c.html#a8395d48667bdc01bce88521812a39f53" title="gic_init_cpui" alt="" coords="827,485,920,515"/><area shape="rect" id="node37" href="gic_8c.html#a608941cbc8ab5a657834d451f0368a6e" title="gic_vgic_baseaddr" alt="" coords="808,539,939,568"/><area shape="rect" id="node39" href="vgic_8c.html#a66eca59dda59d2529191ca0c23094fc8" title="_vgic_valid_lr_mask" alt="" coords="804,592,943,621"/><area shape="rect" id="node41" href="vgic_8c.html#a896fa453c39e4d42fa37483b07c7d307" title="vgic_maintenance_irq_enable" alt="" coords="777,645,969,675"/><area shape="rect" id="node43" href="slotpirq_8c.html#a01b3ab3099b2a5512a07cb42a389d84f" title="slotpirq_init" alt="" coords="829,699,917,728"/><area shape="rect" id="node51" href="vmm_8c.html#a269ada885aa7296fc4601e4cfe6a134b" title="vmm_vmid_ttbl" alt="" coords="517,725,627,755"/><area shape="rect" id="node53" href="context_8c.html#a3b7e34c1497427e5fdcc9b059fb813be" title="context_init_cops" alt="" coords="511,779,633,808"/><area shape="rect" id="node55" href="context_8c.html#a6daf5c209647b93b848801070e6e30ef" title="context_init_banked" alt="" coords="503,832,641,861"/><area shape="rect" id="node57" href="vgic_8c.html#ac901a925af53a53bf1840d9be9acd2e0" title="vgic_init_status" alt="" coords="516,885,628,915"/><area shape="rect" id="node59" href="context_8c.html#a3a2da2487bde91bb02d3363bd17d905a" title="_hyp_guest0_copy_zimage" alt="" coords="483,939,661,968"/><area shape="rect" id="node61" href="loadlinux_8c.html#a2a6cc0b74cefed5f4e51dad4629113b6" title="loadlinux_setup_tags" alt="" coords="500,992,644,1021"/><area shape="rect" id="node67" href="vdev__gicd_8c.html#ad4d5cd73ffb5f68c2f5d6f9b8ee920bc" title="vdev_gicd_reset_values" alt="" coords="491,1045,653,1075"/><area shape="rect" id="node69" href="vdev__gicd_8c.html#a857b27e797cea331cdde921c472a3285" title="access_handler" alt="" coords="516,1099,628,1128"/><area shape="rect" id="node71" href="vdev_8h.html#adef10b9bd7b82e079ca0b60b6a555d09" title="vdev_reg_device" alt="" coords="512,1152,632,1181"/><area shape="rect" id="node75" href="vdev__gicd_8c.html#a9c67f2f148d50faebdb7576ea03a5876" title="vgicd_set_callback_changed_istatus" alt="" coords="455,1205,689,1235"/><area shape="rect" id="node77" href="virqmap_8c.html#a17e7cbe76d72e1890ff5a10724d6f19c" title="virqmap_vgicd_changed_istatus_callback_handler" alt="" coords="416,1259,728,1288"/><area shape="rect" id="node81" href="scheduler_8c.html#a48d44e052726283e6931e284d8ee04a2" title="scheduler_test_switch_to_next_guest" alt="" coords="452,1312,692,1341"/><area shape="rect" id="node83" href="timer_8c.html#a833062839177da96d1c10cafd66fb5e3" title="timer_init" alt="" coords="535,1365,609,1395"/><area shape="rect" id="node85" href="timer_8c.html#a0be875a55b17ab6db30adc87ce373f47" title="timer_set_interval" alt="" coords="509,1419,635,1448"/><area shape="rect" id="node87" href="timer_8c.html#afef8b97657801aaf10e7390cfdc822ab" title="timer_add_callback" alt="" coords="505,1472,639,1501"/><area shape="rect" id="node89" href="timer_8c.html#ace4fc5a149dad9e3b44a629ad79a0732" title="timer_start" alt="" coords="531,1525,613,1555"/><area shape="rect" id="node91" href="scheduler_8c.html#a526a3fccdbd15f3d98c26295e2c701db" title="extra_timer_callback" alt="" coords="501,1579,643,1608"/><area shape="rect" id="node95" href="context_8c.html#aa662295d6861cedca861f13c4ad5ece4" title="context_dump_regs" alt="" coords="504,1632,640,1661"/><area shape="rect" id="node97" href="context_8c.html#aaa75f8a973764763b44ca823e02f4406" title="context_switchto" alt="" coords="512,1685,632,1715"/><area shape="rect" id="node99" href="context_8c.html#a77fe269a194f9dcfcd0a599a9b6e3bfb" title="context_perform_switch" alt="" coords="492,1739,652,1768"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a06b520051af1c5c2e4d477566b23baa7"></a><!-- doxytag: member="context.h::__attribute" ref="a06b520051af1c5c2e4d477566b23baa7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structarch__regs__cop.html">arch_regs_cop</a>  <a class="el" href="vmm_8c.html#a97063b985af7dad6fae4b4d7a8a69523">__attribute</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0d1814f5edf1360a76b54ac386be5e85"></a><!-- doxytag: member="context.h::cpsr" ref="a0d1814f5edf1360a76b54ac386be5e85" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="context_8h.html#a0d1814f5edf1360a76b54ac386be5e85">cpsr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8h_source.html#l00022">22</a> of file <a class="el" href="context_8h_source.html">context.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3397c2bbf4a3049cf5bca2831ada10b8"></a><!-- doxytag: member="context.h::gpr" ref="a3397c2bbf4a3049cf5bca2831ada10b8" args="[ARCH_REGS_NUM_GPR]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="context_8h.html#a3397c2bbf4a3049cf5bca2831ada10b8">gpr</a>[<a class="el" href="context_8h.html#a469821668f7cfd63c2dd4f05120f1ccf">ARCH_REGS_NUM_GPR</a>]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8h_source.html#l00025">25</a> of file <a class="el" href="context_8h_source.html">context.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6ced3f4007bb60daf12191c058e55b8c"></a><!-- doxytag: member="context.h::lr" ref="a6ced3f4007bb60daf12191c058e55b8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="context_8h.html#a6ced3f4007bb60daf12191c058e55b8c">lr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8h_source.html#l00024">24</a> of file <a class="el" href="context_8h_source.html">context.h</a>.</p>

</div>
</div>
<a class="anchor" id="a27468faba76ab3fb5458fb06c0f2af8a"></a><!-- doxytag: member="context.h::pc" ref="a27468faba76ab3fb5458fb06c0f2af8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">syntax unified arch_extension sec arch_extension virt text align SCR <a class="el" href="monitor__secure_8_s.html#ac3bf51173e39a81ec089049af2b9b854">r10</a> bic ldr <a class="el" href="monitor__secure_8_s.html#a8788e5e3f963472b5ed8405a3340c314">r11</a> mcr <a class="el" href="asm-arm__inline_8h.html#a14f7cb726dd83983648772947d1e60d8">isb</a> Use <a class="el" href="monitor__secure_8_s.html#a4d354f7295ddc2f288384d4e03458837">monitor_secure_vectors</a> as temporary Hyp exception vector for Hyp mode entrance ldr <a class="el" href="monitor_8_s.html#afb820df2c9dbd34b23c1372ce18de4a8">return</a> in NS state movs <a class="el" href="context_8h.html#a6ced3f4007bb60daf12191c058e55b8c">lr</a> <a class="el" href="monitor_8_s.html#ad6a37adf2074ccea5c6cd85fe6676b30">elr_hyp</a> mov <a class="el" href="monitor__secure_8_s.html#a27468faba76ab3fb5458fb06c0f2af8a">pc</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="context_8h_source.html#l00023">23</a> of file <a class="el" href="context_8h_source.html">context.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 18 2014 16:44:40 for khypervisor by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
