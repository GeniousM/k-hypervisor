<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>khypervisor: mm.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">khypervisor
   &#160;<span id="projectnumber">v1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">mm.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;k-hypervisor-config.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="mm_8h_source.html">mm.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vmm_8h_source.html">vmm.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="armv7__p15_8h_source.html">armv7_p15.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="arch__types_8h_source.html">arch_types.h</a>&quot;</code><br/>
<code>#include &lt;config/memmap.cfg&gt;</code><br/>
<code>#include &lt;log/print.h&gt;</code><br/>
<code>#include &lt;log/uart_print.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mm.c:</div>
<div class="dyncontent">
<div class="center"><img src="mm_8c__incl.png" border="0" usemap="#mm_8c" alt=""/></div>
<map name="mm_8c" id="mm_8c">
<area shape="rect" id="node5" href="mm_8h.html" title="mm.h" alt="" coords="248,83,301,112"/><area shape="rect" id="node9" href="arch__types_8h.html" title="arch_types.h" alt="" coords="252,237,348,267"/><area shape="rect" id="node15" href="vmm_8h.html" title="vmm.h" alt="" coords="325,83,387,112"/><area shape="rect" id="node19" href="armv7__p15_8h.html" title="armv7_p15.h" alt="" coords="483,160,579,189"/><area shape="rect" id="node7" href="hvmm__types_8h.html" title="hvmm_types.h" alt="" coords="352,160,459,189"/><area shape="rect" id="node12" href="lpae_8h.html" title="lpae.h" alt="" coords="272,160,328,189"/></map>
</div>
</div>
<p><a href="mm_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionheader.html">header</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a2c907a8bc3ef7ca2e00817e63708771f">INITIAL_MAIR0VAL</a>&#160;&#160;&#160;0xeeaa4400</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a2b56f7118e928dce984ab8eab8ebf79a">INITIAL_MAIR1VAL</a>&#160;&#160;&#160;0xff000004</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a0b13d4fb9fae8589866e218e964b9370">INITIAL_MAIRVAL</a>&#160;&#160;&#160;(<a class="el" href="mm_8c.html#a2c907a8bc3ef7ca2e00817e63708771f">INITIAL_MAIR0VAL</a>|<a class="el" href="mm_8c.html#a2b56f7118e928dce984ab8eab8ebf79a">INITIAL_MAIR1VAL</a>&lt;&lt;32)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a81343c14ddcafbb7abd3d16a6611df84">UNCACHED</a>&#160;&#160;&#160;0x0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a320201c0180cde1303067f407f4d5390">BUFFERABLE</a>&#160;&#160;&#160;0x1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ad9a3fc93c9a019f279e92ffe8737f081">WRITETHROUGH</a>&#160;&#160;&#160;0x2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a973016ed9f4fcee58ec1ae95d320c71c">WRITEBACK</a>&#160;&#160;&#160;0x3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#acd04a0327233a94fd9f0a88e04b14ef5">DEV_SHARED</a>&#160;&#160;&#160;0x4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ab6911c59f148d9d2e657db52adbac25a">WRITEALLOC</a>&#160;&#160;&#160;0x7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a8ea795955a5c505980ffeb556f28014b">DEV_NONSHARED</a>&#160;&#160;&#160;<a class="el" href="mm_8c.html#acd04a0327233a94fd9f0a88e04b14ef5">DEV_SHARED</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a608a79b7dce3f91a5b67f8043cb3e875">DEV_WC</a>&#160;&#160;&#160;<a class="el" href="mm_8c.html#a320201c0180cde1303067f407f4d5390">BUFFERABLE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a67cca4ca72da021b000bfd4e001b851c">DEV_CACHED</a>&#160;&#160;&#160;<a class="el" href="mm_8c.html#a973016ed9f4fcee58ec1ae95d320c71c">WRITEBACK</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a17a2bfe0d2848be36a2771b3ac4340d7">SCTLR_TE</a>&#160;&#160;&#160;(1&lt;&lt;30)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a2c6499f38b725ddf7325a2007460acd4">SCTLR_AFE</a>&#160;&#160;&#160;(1&lt;&lt;29)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a5587f4833f6621424d36b694ca5cd4cb">SCTLR_TRE</a>&#160;&#160;&#160;(1&lt;&lt;28)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a262333211dbe2b59bb5d8ba58e606451">SCTLR_NMFI</a>&#160;&#160;&#160;(1&lt;&lt;27)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a84a7900092362ddcca33d5344ddc32d8">SCTLR_EE</a>&#160;&#160;&#160;(1&lt;&lt;25)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a60713873cb7a4b52bab0bdc28c67a712">SCTLR_VE</a>&#160;&#160;&#160;(1&lt;&lt;24)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a3c822cb745d3c523ebb0a8dbf06ed5a8">SCTLR_U</a>&#160;&#160;&#160;(1&lt;&lt;22)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a72f5917646e2a5f6be4f20cdffdffafb">SCTLR_FI</a>&#160;&#160;&#160;(1&lt;&lt;21)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a36a101e07390969e4dc8f697d21d9f26">SCTLR_WXN</a>&#160;&#160;&#160;(1&lt;&lt;19)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#aefdece0dbf293b2d2092e0e836361409">SCTLR_HA</a>&#160;&#160;&#160;(1&lt;&lt;17)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#aefac54b4d4c8d24ef6fe5ace19886508">SCTLR_RR</a>&#160;&#160;&#160;(1&lt;&lt;14)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a74c261b86bd41bafb024ab40cf59a8a6">SCTLR_V</a>&#160;&#160;&#160;(1&lt;&lt;13)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a4463aca82a645205290b851968b6a9a8">SCTLR_I</a>&#160;&#160;&#160;(1&lt;&lt;12)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ad8d7b14b8e35c56f940185c098e8c014">SCTLR_Z</a>&#160;&#160;&#160;(1&lt;&lt;11)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a59a947122b641ad6beb97aaa1a4d4495">SCTLR_SW</a>&#160;&#160;&#160;(1&lt;&lt;10)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#aa97e85698e9798c1bf4ad0e92174a4ef">SCTLR_B</a>&#160;&#160;&#160;(1&lt;&lt;7)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ab29d865ad7a8a670db94641a194ccaf6">SCTLR_C</a>&#160;&#160;&#160;(1&lt;&lt;2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#acf49275ed384ea3668029cb0d87f93d1">SCTLR_A</a>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#abe99dc6083b4bfc86a229928483c84a4">SCTLR_M</a>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a4ecd7c7162537dc5ec433cf97037e3b8">SCTLR_BASE</a>&#160;&#160;&#160;0x00c50078</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ac0a5410252496a99d2ac094e358052da">HSCTLR_BASE</a>&#160;&#160;&#160;0x30c51878</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a0c2db026d6f5b1ea43cd521c9b1599cd">HTTBR_INITVAL</a>&#160;&#160;&#160;0x0000000000000000ULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ab0d4e7fe00a07b5a4bdae6dc2615c555">HTTBR_BADDR_MASK</a>&#160;&#160;&#160;0x000000FFFFFFF000ULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a21dc50b72e7a8cf33a6956eb1e967355">HTTBR_BADDR_SHIFT</a>&#160;&#160;&#160;12</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a980afbff15e420e0d24a4c32a4f798cd">HTCR_INITVAL</a>&#160;&#160;&#160;0x80000000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ae489b26e8b05f779ce527dd6d0a6bf46">HTCR_SH0_MASK</a>&#160;&#160;&#160;0x00003000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a6dd05fee64d85b254ebe89d7c168238c">HTCR_SH0_SHIFT</a>&#160;&#160;&#160;12</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ae48872a50720e7834dc2474ff4013356">HTCR_ORGN0_MASK</a>&#160;&#160;&#160;0x00000C00</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a87a919a03e888b586851dc151585c18d">HTCR_ORGN0_SHIFT</a>&#160;&#160;&#160;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a4666091a36af06e484bbb49b0b0c4375">HTCR_IRGN0_MASK</a>&#160;&#160;&#160;0x00000300</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ac60d1dceadbae08549124e7ba63d1b7d">HTCR_IRGN0_SHIFT</a>&#160;&#160;&#160;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a7f8be03afc776f20725d0511fc6667e0">HTCR_T0SZ_MASK</a>&#160;&#160;&#160;0x00000003</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a08a0f95a5f60965a28a8e850b6404c7a">HTCR_T0SZ_SHIFT</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a18bfc3cd96161f416a47db0a95832ab8">HMM_L1_PTE_NUM</a>&#160;&#160;&#160;512</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a4f5f8a6a4d4322185db7a680f88a1a05">HMM_L2_PTE_NUM</a>&#160;&#160;&#160;512</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ad3ad8bb977816662ac434c4730c7089b">HMM_L3_PTE_NUM</a>&#160;&#160;&#160;512</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a>&#160;&#160;&#160;CFG_MEMMAP_MON_OFFSET + 0x02000000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a1b45302695680930829cac31d65e41e1">HEAP_SIZE</a>&#160;&#160;&#160;0x0D000000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a7ea15d5cfd6345437fdfc7ebc2cbd369">L2_ENTRY_MASK</a>&#160;&#160;&#160;0x1FF</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a7f3060298be5456735d84c0c3560aaf1">L2_SHIFT</a>&#160;&#160;&#160;21</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a627fb02baa9a5ac0bee831e2ff62b4c0">L3_ENTRY_MASK</a>&#160;&#160;&#160;0x1FF</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a9e6057f138b9dc38b717ec7e7548690d">L3_SHIFT</a>&#160;&#160;&#160;12</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a3dae59fafa297ee1eeadf416db7b4b1e">HEAP_END_ADDR</a>&#160;&#160;&#160;<a class="el" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a> + <a class="el" href="mm_8c.html#a1b45302695680930829cac31d65e41e1">HEAP_SIZE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ac6dcef7a1829fc392ee1ed77205ec2ff">NALLOC</a>&#160;&#160;&#160;1024</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#aa508dd61e627680e57643837d292d89f">Align</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef union <a class="el" href="unionheader.html">header</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="unionlpaed__t.html">lpaed_t</a> _hmm_pgtable[<a class="el" href="mm_8c.html#a18bfc3cd96161f416a47db0a95832ab8">HMM_L1_PTE_NUM</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a935d72a577c3ab62f2b2626c52091115">__attribute</a> ((__aligned__(4096)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a7c9c4518af771f7f39434b5dcc41d1d4">hmm_heap_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#aa82c7756438b1aa5429be9ee49aea5ed">_hmm_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ae8f2b7d0b30b5fa78b50cee688872d93">hvmm_mm_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51">hmm_flushTLB</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="unionlpaed__t.html">lpaed_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a">hmm_get_l3_table_entry</a> (unsigned long virt, unsigned long npages)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a4ca7bdd94dcc4cfff4b534b6ba0c7493">hmm_umap</a> (unsigned long virt, unsigned long npages)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#addc0cbf4f901eef091961846460ab81f">hmm_map</a> (unsigned long phys, unsigned long virt, unsigned long npages)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#aed9cb3337e230955ad366c56c50f1c9e">hmm_sbrk</a> (unsigned int incr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#ab7237ca6c0b383d215c263b9f1855388">hmm_free</a> (void *ap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a50b17e6b64d9c0892bce1d8585e4f6a7">morecore</a> (unsigned int nu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a3421aed4792b89e78be604efbae319dc">hmm_malloc</a> (unsigned long size)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#aaeb50616cf303a81199782dccfe98461">mm_break</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a382bf173e93d5b52f7387b81913ddec5">mm_prev_break</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#aa3abe9a33212c2a76ad5a5b311d9fdfb">last_valid_address</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a793c43e1bf8501fea23668a2ab7a7021">freep_base</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a320201c0180cde1303067f407f4d5390"></a><!-- doxytag: member="mm.c::BUFFERABLE" ref="a320201c0180cde1303067f407f4d5390" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a320201c0180cde1303067f407f4d5390">BUFFERABLE</a>&#160;&#160;&#160;0x1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00043">43</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a67cca4ca72da021b000bfd4e001b851c"></a><!-- doxytag: member="mm.c::DEV_CACHED" ref="a67cca4ca72da021b000bfd4e001b851c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a67cca4ca72da021b000bfd4e001b851c">DEV_CACHED</a>&#160;&#160;&#160;<a class="el" href="mm_8c.html#a973016ed9f4fcee58ec1ae95d320c71c">WRITEBACK</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00050">50</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8ea795955a5c505980ffeb556f28014b"></a><!-- doxytag: member="mm.c::DEV_NONSHARED" ref="a8ea795955a5c505980ffeb556f28014b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a8ea795955a5c505980ffeb556f28014b">DEV_NONSHARED</a>&#160;&#160;&#160;<a class="el" href="mm_8c.html#acd04a0327233a94fd9f0a88e04b14ef5">DEV_SHARED</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00048">48</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="acd04a0327233a94fd9f0a88e04b14ef5"></a><!-- doxytag: member="mm.c::DEV_SHARED" ref="acd04a0327233a94fd9f0a88e04b14ef5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#acd04a0327233a94fd9f0a88e04b14ef5">DEV_SHARED</a>&#160;&#160;&#160;0x4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00046">46</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a608a79b7dce3f91a5b67f8043cb3e875"></a><!-- doxytag: member="mm.c::DEV_WC" ref="a608a79b7dce3f91a5b67f8043cb3e875" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a608a79b7dce3f91a5b67f8043cb3e875">DEV_WC</a>&#160;&#160;&#160;<a class="el" href="mm_8c.html#a320201c0180cde1303067f407f4d5390">BUFFERABLE</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00049">49</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae6ea72ea9b13965ca0a411909cf1d836"></a><!-- doxytag: member="mm.c::HEAP_ADDR" ref="ae6ea72ea9b13965ca0a411909cf1d836" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a>&#160;&#160;&#160;CFG_MEMMAP_MON_OFFSET + 0x02000000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00101">101</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3dae59fafa297ee1eeadf416db7b4b1e"></a><!-- doxytag: member="mm.c::HEAP_END_ADDR" ref="a3dae59fafa297ee1eeadf416db7b4b1e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a3dae59fafa297ee1eeadf416db7b4b1e">HEAP_END_ADDR</a>&#160;&#160;&#160;<a class="el" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a> + <a class="el" href="mm_8c.html#a1b45302695680930829cac31d65e41e1">HEAP_SIZE</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00110">110</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1b45302695680930829cac31d65e41e1"></a><!-- doxytag: member="mm.c::HEAP_SIZE" ref="a1b45302695680930829cac31d65e41e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a1b45302695680930829cac31d65e41e1">HEAP_SIZE</a>&#160;&#160;&#160;0x0D000000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00102">102</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a18bfc3cd96161f416a47db0a95832ab8"></a><!-- doxytag: member="mm.c::HMM_L1_PTE_NUM" ref="a18bfc3cd96161f416a47db0a95832ab8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a18bfc3cd96161f416a47db0a95832ab8">HMM_L1_PTE_NUM</a>&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00093">93</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4f5f8a6a4d4322185db7a680f88a1a05"></a><!-- doxytag: member="mm.c::HMM_L2_PTE_NUM" ref="a4f5f8a6a4d4322185db7a680f88a1a05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a4f5f8a6a4d4322185db7a680f88a1a05">HMM_L2_PTE_NUM</a>&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00096">96</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad3ad8bb977816662ac434c4730c7089b"></a><!-- doxytag: member="mm.c::HMM_L3_PTE_NUM" ref="ad3ad8bb977816662ac434c4730c7089b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ad3ad8bb977816662ac434c4730c7089b">HMM_L3_PTE_NUM</a>&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00099">99</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac0a5410252496a99d2ac094e358052da"></a><!-- doxytag: member="mm.c::HSCTLR_BASE" ref="ac0a5410252496a99d2ac094e358052da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ac0a5410252496a99d2ac094e358052da">HSCTLR_BASE</a>&#160;&#160;&#160;0x30c51878</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00074">74</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a980afbff15e420e0d24a4c32a4f798cd"></a><!-- doxytag: member="mm.c::HTCR_INITVAL" ref="a980afbff15e420e0d24a4c32a4f798cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a980afbff15e420e0d24a4c32a4f798cd">HTCR_INITVAL</a>&#160;&#160;&#160;0x80000000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00082">82</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4666091a36af06e484bbb49b0b0c4375"></a><!-- doxytag: member="mm.c::HTCR_IRGN0_MASK" ref="a4666091a36af06e484bbb49b0b0c4375" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a4666091a36af06e484bbb49b0b0c4375">HTCR_IRGN0_MASK</a>&#160;&#160;&#160;0x00000300</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00087">87</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac60d1dceadbae08549124e7ba63d1b7d"></a><!-- doxytag: member="mm.c::HTCR_IRGN0_SHIFT" ref="ac60d1dceadbae08549124e7ba63d1b7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ac60d1dceadbae08549124e7ba63d1b7d">HTCR_IRGN0_SHIFT</a>&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00088">88</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae48872a50720e7834dc2474ff4013356"></a><!-- doxytag: member="mm.c::HTCR_ORGN0_MASK" ref="ae48872a50720e7834dc2474ff4013356" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ae48872a50720e7834dc2474ff4013356">HTCR_ORGN0_MASK</a>&#160;&#160;&#160;0x00000C00</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00085">85</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a87a919a03e888b586851dc151585c18d"></a><!-- doxytag: member="mm.c::HTCR_ORGN0_SHIFT" ref="a87a919a03e888b586851dc151585c18d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a87a919a03e888b586851dc151585c18d">HTCR_ORGN0_SHIFT</a>&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00086">86</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae489b26e8b05f779ce527dd6d0a6bf46"></a><!-- doxytag: member="mm.c::HTCR_SH0_MASK" ref="ae489b26e8b05f779ce527dd6d0a6bf46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ae489b26e8b05f779ce527dd6d0a6bf46">HTCR_SH0_MASK</a>&#160;&#160;&#160;0x00003000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00083">83</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6dd05fee64d85b254ebe89d7c168238c"></a><!-- doxytag: member="mm.c::HTCR_SH0_SHIFT" ref="a6dd05fee64d85b254ebe89d7c168238c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a6dd05fee64d85b254ebe89d7c168238c">HTCR_SH0_SHIFT</a>&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00084">84</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7f8be03afc776f20725d0511fc6667e0"></a><!-- doxytag: member="mm.c::HTCR_T0SZ_MASK" ref="a7f8be03afc776f20725d0511fc6667e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a7f8be03afc776f20725d0511fc6667e0">HTCR_T0SZ_MASK</a>&#160;&#160;&#160;0x00000003</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00089">89</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a08a0f95a5f60965a28a8e850b6404c7a"></a><!-- doxytag: member="mm.c::HTCR_T0SZ_SHIFT" ref="a08a0f95a5f60965a28a8e850b6404c7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a08a0f95a5f60965a28a8e850b6404c7a">HTCR_T0SZ_SHIFT</a>&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00090">90</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab0d4e7fe00a07b5a4bdae6dc2615c555"></a><!-- doxytag: member="mm.c::HTTBR_BADDR_MASK" ref="ab0d4e7fe00a07b5a4bdae6dc2615c555" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ab0d4e7fe00a07b5a4bdae6dc2615c555">HTTBR_BADDR_MASK</a>&#160;&#160;&#160;0x000000FFFFFFF000ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00078">78</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a21dc50b72e7a8cf33a6956eb1e967355"></a><!-- doxytag: member="mm.c::HTTBR_BADDR_SHIFT" ref="a21dc50b72e7a8cf33a6956eb1e967355" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a21dc50b72e7a8cf33a6956eb1e967355">HTTBR_BADDR_SHIFT</a>&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00079">79</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0c2db026d6f5b1ea43cd521c9b1599cd"></a><!-- doxytag: member="mm.c::HTTBR_INITVAL" ref="a0c2db026d6f5b1ea43cd521c9b1599cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a0c2db026d6f5b1ea43cd521c9b1599cd">HTTBR_INITVAL</a>&#160;&#160;&#160;0x0000000000000000ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00077">77</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2c907a8bc3ef7ca2e00817e63708771f"></a><!-- doxytag: member="mm.c::INITIAL_MAIR0VAL" ref="a2c907a8bc3ef7ca2e00817e63708771f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a2c907a8bc3ef7ca2e00817e63708771f">INITIAL_MAIR0VAL</a>&#160;&#160;&#160;0xeeaa4400</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00030">30</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2b56f7118e928dce984ab8eab8ebf79a"></a><!-- doxytag: member="mm.c::INITIAL_MAIR1VAL" ref="a2b56f7118e928dce984ab8eab8ebf79a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a2b56f7118e928dce984ab8eab8ebf79a">INITIAL_MAIR1VAL</a>&#160;&#160;&#160;0xff000004</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00031">31</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0b13d4fb9fae8589866e218e964b9370"></a><!-- doxytag: member="mm.c::INITIAL_MAIRVAL" ref="a0b13d4fb9fae8589866e218e964b9370" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a0b13d4fb9fae8589866e218e964b9370">INITIAL_MAIRVAL</a>&#160;&#160;&#160;(<a class="el" href="mm_8c.html#a2c907a8bc3ef7ca2e00817e63708771f">INITIAL_MAIR0VAL</a>|<a class="el" href="mm_8c.html#a2b56f7118e928dce984ab8eab8ebf79a">INITIAL_MAIR1VAL</a>&lt;&lt;32)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00032">32</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7ea15d5cfd6345437fdfc7ebc2cbd369"></a><!-- doxytag: member="mm.c::L2_ENTRY_MASK" ref="a7ea15d5cfd6345437fdfc7ebc2cbd369" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a7ea15d5cfd6345437fdfc7ebc2cbd369">L2_ENTRY_MASK</a>&#160;&#160;&#160;0x1FF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00104">104</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7f3060298be5456735d84c0c3560aaf1"></a><!-- doxytag: member="mm.c::L2_SHIFT" ref="a7f3060298be5456735d84c0c3560aaf1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a7f3060298be5456735d84c0c3560aaf1">L2_SHIFT</a>&#160;&#160;&#160;21</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00105">105</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a627fb02baa9a5ac0bee831e2ff62b4c0"></a><!-- doxytag: member="mm.c::L3_ENTRY_MASK" ref="a627fb02baa9a5ac0bee831e2ff62b4c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a627fb02baa9a5ac0bee831e2ff62b4c0">L3_ENTRY_MASK</a>&#160;&#160;&#160;0x1FF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00107">107</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9e6057f138b9dc38b717ec7e7548690d"></a><!-- doxytag: member="mm.c::L3_SHIFT" ref="a9e6057f138b9dc38b717ec7e7548690d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a9e6057f138b9dc38b717ec7e7548690d">L3_SHIFT</a>&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00108">108</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac6dcef7a1829fc392ee1ed77205ec2ff"></a><!-- doxytag: member="mm.c::NALLOC" ref="ac6dcef7a1829fc392ee1ed77205ec2ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ac6dcef7a1829fc392ee1ed77205ec2ff">NALLOC</a>&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00111">111</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="acf49275ed384ea3668029cb0d87f93d1"></a><!-- doxytag: member="mm.c::SCTLR_A" ref="acf49275ed384ea3668029cb0d87f93d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#acf49275ed384ea3668029cb0d87f93d1">SCTLR_A</a>&#160;&#160;&#160;(1&lt;&lt;1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00071">71</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2c6499f38b725ddf7325a2007460acd4"></a><!-- doxytag: member="mm.c::SCTLR_AFE" ref="a2c6499f38b725ddf7325a2007460acd4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a2c6499f38b725ddf7325a2007460acd4">SCTLR_AFE</a>&#160;&#160;&#160;(1&lt;&lt;29)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00055">55</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa97e85698e9798c1bf4ad0e92174a4ef"></a><!-- doxytag: member="mm.c::SCTLR_B" ref="aa97e85698e9798c1bf4ad0e92174a4ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#aa97e85698e9798c1bf4ad0e92174a4ef">SCTLR_B</a>&#160;&#160;&#160;(1&lt;&lt;7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00069">69</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4ecd7c7162537dc5ec433cf97037e3b8"></a><!-- doxytag: member="mm.c::SCTLR_BASE" ref="a4ecd7c7162537dc5ec433cf97037e3b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a4ecd7c7162537dc5ec433cf97037e3b8">SCTLR_BASE</a>&#160;&#160;&#160;0x00c50078</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00073">73</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab29d865ad7a8a670db94641a194ccaf6"></a><!-- doxytag: member="mm.c::SCTLR_C" ref="ab29d865ad7a8a670db94641a194ccaf6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ab29d865ad7a8a670db94641a194ccaf6">SCTLR_C</a>&#160;&#160;&#160;(1&lt;&lt;2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00070">70</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a84a7900092362ddcca33d5344ddc32d8"></a><!-- doxytag: member="mm.c::SCTLR_EE" ref="a84a7900092362ddcca33d5344ddc32d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a84a7900092362ddcca33d5344ddc32d8">SCTLR_EE</a>&#160;&#160;&#160;(1&lt;&lt;25)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00058">58</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a72f5917646e2a5f6be4f20cdffdffafb"></a><!-- doxytag: member="mm.c::SCTLR_FI" ref="a72f5917646e2a5f6be4f20cdffdffafb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a72f5917646e2a5f6be4f20cdffdffafb">SCTLR_FI</a>&#160;&#160;&#160;(1&lt;&lt;21)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00061">61</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="aefdece0dbf293b2d2092e0e836361409"></a><!-- doxytag: member="mm.c::SCTLR_HA" ref="aefdece0dbf293b2d2092e0e836361409" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#aefdece0dbf293b2d2092e0e836361409">SCTLR_HA</a>&#160;&#160;&#160;(1&lt;&lt;17)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00063">63</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4463aca82a645205290b851968b6a9a8"></a><!-- doxytag: member="mm.c::SCTLR_I" ref="a4463aca82a645205290b851968b6a9a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a4463aca82a645205290b851968b6a9a8">SCTLR_I</a>&#160;&#160;&#160;(1&lt;&lt;12)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00066">66</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="abe99dc6083b4bfc86a229928483c84a4"></a><!-- doxytag: member="mm.c::SCTLR_M" ref="abe99dc6083b4bfc86a229928483c84a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#abe99dc6083b4bfc86a229928483c84a4">SCTLR_M</a>&#160;&#160;&#160;(1&lt;&lt;0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00072">72</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a262333211dbe2b59bb5d8ba58e606451"></a><!-- doxytag: member="mm.c::SCTLR_NMFI" ref="a262333211dbe2b59bb5d8ba58e606451" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a262333211dbe2b59bb5d8ba58e606451">SCTLR_NMFI</a>&#160;&#160;&#160;(1&lt;&lt;27)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00057">57</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="aefac54b4d4c8d24ef6fe5ace19886508"></a><!-- doxytag: member="mm.c::SCTLR_RR" ref="aefac54b4d4c8d24ef6fe5ace19886508" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#aefac54b4d4c8d24ef6fe5ace19886508">SCTLR_RR</a>&#160;&#160;&#160;(1&lt;&lt;14)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00064">64</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a59a947122b641ad6beb97aaa1a4d4495"></a><!-- doxytag: member="mm.c::SCTLR_SW" ref="a59a947122b641ad6beb97aaa1a4d4495" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a59a947122b641ad6beb97aaa1a4d4495">SCTLR_SW</a>&#160;&#160;&#160;(1&lt;&lt;10)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00068">68</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a17a2bfe0d2848be36a2771b3ac4340d7"></a><!-- doxytag: member="mm.c::SCTLR_TE" ref="a17a2bfe0d2848be36a2771b3ac4340d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a17a2bfe0d2848be36a2771b3ac4340d7">SCTLR_TE</a>&#160;&#160;&#160;(1&lt;&lt;30)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00054">54</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5587f4833f6621424d36b694ca5cd4cb"></a><!-- doxytag: member="mm.c::SCTLR_TRE" ref="a5587f4833f6621424d36b694ca5cd4cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a5587f4833f6621424d36b694ca5cd4cb">SCTLR_TRE</a>&#160;&#160;&#160;(1&lt;&lt;28)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00056">56</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3c822cb745d3c523ebb0a8dbf06ed5a8"></a><!-- doxytag: member="mm.c::SCTLR_U" ref="a3c822cb745d3c523ebb0a8dbf06ed5a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a3c822cb745d3c523ebb0a8dbf06ed5a8">SCTLR_U</a>&#160;&#160;&#160;(1&lt;&lt;22)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00060">60</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a74c261b86bd41bafb024ab40cf59a8a6"></a><!-- doxytag: member="mm.c::SCTLR_V" ref="a74c261b86bd41bafb024ab40cf59a8a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a74c261b86bd41bafb024ab40cf59a8a6">SCTLR_V</a>&#160;&#160;&#160;(1&lt;&lt;13)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00065">65</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a60713873cb7a4b52bab0bdc28c67a712"></a><!-- doxytag: member="mm.c::SCTLR_VE" ref="a60713873cb7a4b52bab0bdc28c67a712" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a60713873cb7a4b52bab0bdc28c67a712">SCTLR_VE</a>&#160;&#160;&#160;(1&lt;&lt;24)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00059">59</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a36a101e07390969e4dc8f697d21d9f26"></a><!-- doxytag: member="mm.c::SCTLR_WXN" ref="a36a101e07390969e4dc8f697d21d9f26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a36a101e07390969e4dc8f697d21d9f26">SCTLR_WXN</a>&#160;&#160;&#160;(1&lt;&lt;19)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00062">62</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad8d7b14b8e35c56f940185c098e8c014"></a><!-- doxytag: member="mm.c::SCTLR_Z" ref="ad8d7b14b8e35c56f940185c098e8c014" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ad8d7b14b8e35c56f940185c098e8c014">SCTLR_Z</a>&#160;&#160;&#160;(1&lt;&lt;11)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00067">67</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a81343c14ddcafbb7abd3d16a6611df84"></a><!-- doxytag: member="mm.c::UNCACHED" ref="a81343c14ddcafbb7abd3d16a6611df84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a81343c14ddcafbb7abd3d16a6611df84">UNCACHED</a>&#160;&#160;&#160;0x0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00042">42</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab6911c59f148d9d2e657db52adbac25a"></a><!-- doxytag: member="mm.c::WRITEALLOC" ref="ab6911c59f148d9d2e657db52adbac25a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ab6911c59f148d9d2e657db52adbac25a">WRITEALLOC</a>&#160;&#160;&#160;0x7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00047">47</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a973016ed9f4fcee58ec1ae95d320c71c"></a><!-- doxytag: member="mm.c::WRITEBACK" ref="a973016ed9f4fcee58ec1ae95d320c71c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#a973016ed9f4fcee58ec1ae95d320c71c">WRITEBACK</a>&#160;&#160;&#160;0x3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00045">45</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad9a3fc93c9a019f279e92ffe8737f081"></a><!-- doxytag: member="mm.c::WRITETHROUGH" ref="ad9a3fc93c9a019f279e92ffe8737f081" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="mm_8c.html#ad9a3fc93c9a019f279e92ffe8737f081">WRITETHROUGH</a>&#160;&#160;&#160;0x2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00044">44</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="aa508dd61e627680e57643837d292d89f"></a><!-- doxytag: member="mm.c::Align" ref="aa508dd61e627680e57643837d292d89f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef long <a class="el" href="mm_8c.html#aa508dd61e627680e57643837d292d89f">Align</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00118">118</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a725658198c30a10bfdcc6bf6cf30f121"></a><!-- doxytag: member="mm.c::fl_bheader" ref="a725658198c30a10bfdcc6bf6cf30f121" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef union <a class="el" href="unionheader.html">header</a> <a class="el" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00128">128</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a935d72a577c3ab62f2b2626c52091115"></a><!-- doxytag: member="mm.c::__attribute" ref="a935d72a577c3ab62f2b2626c52091115" args="((__aligned__(4096)))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="unionlpaed__t.html">lpaed_t</a> _hmm_pgtable [<a class="el" href="mm_8c.html#a18bfc3cd96161f416a47db0a95832ab8">HMM_L1_PTE_NUM</a>] <a class="el" href="vmm_8c.html#a97063b985af7dad6fae4b4d7a8a69523">__attribute</a> </td>
          <td>(</td>
          <td class="paramtype">(__aligned__(4096))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa82c7756438b1aa5429be9ee49aea5ed"></a><!-- doxytag: member="mm.c::_hmm_init" ref="aa82c7756438b1aa5429be9ee49aea5ed" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="mm_8c.html#aa82c7756438b1aa5429be9ee49aea5ed">_hmm_init</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00151">151</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> i, j;
    <a class="code" href="arch__types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> pa = 0x00000000ULL;
    <span class="comment">/*</span>
<span class="comment">     * Partition 0: 0x00000000 ~ 0x3FFFFFFF - Peripheral - DEV_SHARED</span>
<span class="comment">     * Partition 1: 0x40000000 ~ 0x7FFFFFFF - Unused     - UNCACHED</span>
<span class="comment">     * Partition 2: 0x80000000 ~ 0xBFFFFFFF - Guest      - UNCACHED</span>
<span class="comment">     * Partition 3: 0xC0000000 ~ 0xFFFFFFFF - Monitor    - LV2 translation table address</span>
<span class="comment">     */</span>
    _hmm_pgtable[0] = <a class="code" href="lpae_8c.html#aaa674eddb596444230e0aea1ba32e90e">hvmm_mm_lpaed_l1_block</a>(pa, <a class="code" href="mm_8c.html#acd04a0327233a94fd9f0a88e04b14ef5">DEV_SHARED</a>); pa += 0x40000000;
    uart_print( <span class="stringliteral">&quot;&amp;_hmm_pgtable[0]:&quot;</span>); uart_print_hex32((<a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>) &amp;_hmm_pgtable[0]); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    uart_print( <span class="stringliteral">&quot;lpaed:&quot;</span>); uart_print_hex64(_hmm_pgtable[0].bits); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    _hmm_pgtable[1] = <a class="code" href="lpae_8c.html#aaa674eddb596444230e0aea1ba32e90e">hvmm_mm_lpaed_l1_block</a>(pa, <a class="code" href="mm_8c.html#a81343c14ddcafbb7abd3d16a6611df84">UNCACHED</a>); pa += 0x40000000;
    uart_print( <span class="stringliteral">&quot;&amp;_hmm_pgtable[1]:&quot;</span>); uart_print_hex32((<a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>) &amp;_hmm_pgtable[1]); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    uart_print( <span class="stringliteral">&quot;lpaed:&quot;</span>); uart_print_hex64(_hmm_pgtable[1].bits); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    _hmm_pgtable[2] = <a class="code" href="lpae_8c.html#aaa674eddb596444230e0aea1ba32e90e">hvmm_mm_lpaed_l1_block</a>(pa, <a class="code" href="mm_8c.html#a81343c14ddcafbb7abd3d16a6611df84">UNCACHED</a>); pa += 0x40000000;
    uart_print( <span class="stringliteral">&quot;&amp;_hmm_pgtable[2]:&quot;</span>); uart_print_hex32((<a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>) &amp;_hmm_pgtable[2]); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    uart_print( <span class="stringliteral">&quot;lpaed:&quot;</span>); uart_print_hex64(_hmm_pgtable[2].bits); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    <span class="comment">/* _hmm_pgtable[3] refers Lv2 page table address. */</span>
    _hmm_pgtable[3] = <a class="code" href="lpae_8c.html#a804b9089155c7bc74ccea12d009c36fd">hvmm_mm_lpaed_l1_table</a>((<a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>) _hmm_pgtable_l2); 
    uart_print( <span class="stringliteral">&quot;&amp;_hmm_pgtable[3]:&quot;</span>); uart_print_hex32((<a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>) &amp;_hmm_pgtable[3]); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    uart_print( <span class="stringliteral">&quot;lpaed:&quot;</span>); uart_print_hex64(_hmm_pgtable[3].bits); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    <span class="keywordflow">for</span>( i = 0; i &lt;<a class="code" href="mm_8c.html#a4f5f8a6a4d4322185db7a680f88a1a05">HMM_L2_PTE_NUM</a>; i++){
        <span class="comment">/* _hvmm_pgtable_lv2[i] refers Lv3 page table address. each element correspond 2MB */</span>
        _hmm_pgtable_l2[i] = <a class="code" href="lpae_8c.html#a6dba6fbdc7725faf61722eff42e18bbc">hvmm_mm_lpaed_l2_table</a>((<a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>) _hmm_pgtable_l3[i]); 
        <span class="comment">/* _hvmm_pgtable_lv3[i][j] refers page, that size is 4KB */</span>
        <span class="keywordflow">for</span>(j = 0; j &lt; <a class="code" href="mm_8c.html#ad3ad8bb977816662ac434c4730c7089b">HMM_L3_PTE_NUM</a>; pa += 0x1000 ,j++){
            <span class="comment">/* 0xF2000000 ~ 0xFF000000 - Heap memory 208MB */</span>
            <span class="keywordflow">if</span>(pa &gt;= <a class="code" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a> &amp;&amp; pa &lt; <a class="code" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a> + <a class="code" href="mm_8c.html#a1b45302695680930829cac31d65e41e1">HEAP_SIZE</a>){
                _hmm_pgtable_l3[i][j] = <a class="code" href="lpae_8c.html#a1f31704271c412a5077309bf60b83f86">hvmm_mm_lpaed_l3_table</a>(pa, <a class="code" href="mm_8c.html#ab6911c59f148d9d2e657db52adbac25a">WRITEALLOC</a>, 0);
            }
            <span class="keywordflow">else</span>{
                _hmm_pgtable_l3[i][j] = <a class="code" href="lpae_8c.html#a1f31704271c412a5077309bf60b83f86">hvmm_mm_lpaed_l3_table</a>(pa, <a class="code" href="mm_8c.html#a81343c14ddcafbb7abd3d16a6611df84">UNCACHED</a>, 1);
            }
        }
    }
    <span class="keywordflow">for</span> ( i = 4; i &lt; <a class="code" href="mm_8c.html#a18bfc3cd96161f416a47db0a95832ab8">HMM_L1_PTE_NUM</a>; i++ ) {
        _hmm_pgtable[i].pt.valid = 0;
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mm_8c_aa82c7756438b1aa5429be9ee49aea5ed_cgraph.png" border="0" usemap="#mm_8c_aa82c7756438b1aa5429be9ee49aea5ed_cgraph" alt=""/></div>
<map name="mm_8c_aa82c7756438b1aa5429be9ee49aea5ed_cgraph" id="mm_8c_aa82c7756438b1aa5429be9ee49aea5ed_cgraph">
<area shape="rect" id="node3" href="lpae_8c.html#aaa674eddb596444230e0aea1ba32e90e" title="hvmm_mm_lpaed_l1_block" alt="" coords="137,5,316,35"/><area shape="rect" id="node5" href="lpae_8c.html#a804b9089155c7bc74ccea12d009c36fd" title="hvmm_mm_lpaed_l1_table" alt="" coords="139,59,315,88"/><area shape="rect" id="node7" href="lpae_8c.html#a6dba6fbdc7725faf61722eff42e18bbc" title="hvmm_mm_lpaed_l2_table" alt="" coords="139,112,315,141"/><area shape="rect" id="node9" href="lpae_8c.html#a1f31704271c412a5077309bf60b83f86" title="hvmm_mm_lpaed_l3_table" alt="" coords="139,165,315,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8c6819b2416a9da42da9a5ac8d1a9d51"></a><!-- doxytag: member="mm.c::hmm_flushTLB" ref="a8c6819b2416a9da42da9a5ac8d1a9d51" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51">hmm_flushTLB</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00301">301</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">/* Invalidate entire unified TLB */</span>
    <a class="code" href="armv7__p15_8h.html#a8983432e251fc0069019ae2e253e1765">invalidate_unified_tlb</a>(0);
    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dsb&quot;</span>);
    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;isb&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab7237ca6c0b383d215c263b9f1855388"></a><!-- doxytag: member="mm.c::hmm_free" ref="ab7237ca6c0b383d215c263b9f1855388" args="(void *ap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="mm_8h.html#ac1edcf1771542874ebcf1a67ceb90a92">hmm_free</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00374">374</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="unionheader.html">fl_bheader</a> *bp, *p;
    bp = (<a class="code" href="unionheader.html">fl_bheader</a> *)ap - 1; <span class="comment">/* point to block header */</span>
    <span class="keywordflow">for</span> (p = <a class="code" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a>; !(bp &gt; p &amp;&amp; bp  &lt; p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>); p = p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>){
        <span class="keywordflow">if</span>(p &gt;= p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a> &amp;&amp; (bp &gt; p || bp &lt; p-&gt;s.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>)){
            <span class="keywordflow">break</span>; <span class="comment">/* freed block at start or end of arena */</span>
        }
    }
    <span class="keywordflow">if</span>(bp + bp-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> == p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>) { <span class="comment">/* join to upper nbr */</span>
        bp-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> += p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a>;
        bp-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a> = p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>;
    } <span class="keywordflow">else</span>
        bp-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a> = p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>;
    <span class="keywordflow">if</span> (p + p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> == bp) {      <span class="comment">/* join to lower nbr */</span>
        p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> += bp-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a>;
        p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a> = bp-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>;
    } <span class="keywordflow">else</span>
        p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a> = bp;
    <a class="code" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a> = p;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2474e37847535a7ab59fcef069a3b63a"></a><!-- doxytag: member="mm.c::hmm_get_l3_table_entry" ref="a2474e37847535a7ab59fcef069a3b63a" args="(unsigned long virt, unsigned long npages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unionlpaed__t.html">lpaed_t</a>* <a class="el" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a">hmm_get_l3_table_entry</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>virt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>npages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00309">309</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> l2_index = (virt &gt;&gt; <a class="code" href="mm_8c.html#a7f3060298be5456735d84c0c3560aaf1">L2_SHIFT</a>) &amp; <a class="code" href="mm_8c.html#a7ea15d5cfd6345437fdfc7ebc2cbd369">L2_ENTRY_MASK</a>;
    <span class="keywordtype">int</span> l3_index = (virt &gt;&gt; <a class="code" href="mm_8c.html#a9e6057f138b9dc38b717ec7e7548690d">L3_SHIFT</a>) &amp; <a class="code" href="mm_8c.html#a627fb02baa9a5ac0bee831e2ff62b4c0">L3_ENTRY_MASK</a>;
    <span class="keywordtype">int</span> maxsize = ((<a class="code" href="mm_8c.html#a4f5f8a6a4d4322185db7a680f88a1a05">HMM_L2_PTE_NUM</a> * <a class="code" href="mm_8c.html#ad3ad8bb977816662ac434c4730c7089b">HMM_L3_PTE_NUM</a>) - ( (l2_index + 1) * (l3_index + 1) ) + 1);
    <span class="keywordflow">if</span>( maxsize &lt; npages ) {
        printh(<span class="stringliteral">&quot;%s[%d] : Map size \&quot;pages\&quot; is exceeded memory size\n&quot;</span>, __FUNCTION__, __LINE__);
        <span class="keywordflow">if</span>(maxsize &gt; 0){
            printh(<span class="stringliteral">&quot;%s[%d] : Available pages are %d\n&quot;</span>, maxsize); 
        }
        <span class="keywordflow">else</span>{
            printh(<span class="stringliteral">&quot;%s[%d] : Do not have available pages for map\n&quot;</span>);
        }
        <span class="keywordflow">return</span> 0;
    }
    <span class="keywordflow">return</span> &amp;_hmm_pgtable_l3[l2_index][l3_index];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7c9c4518af771f7f39434b5dcc41d1d4"></a><!-- doxytag: member="mm.c::hmm_heap_init" ref="a7c9c4518af771f7f39434b5dcc41d1d4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="mm_8c.html#a7c9c4518af771f7f39434b5dcc41d1d4">hmm_heap_init</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00137">137</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="mm_8c.html#aaeb50616cf303a81199782dccfe98461">mm_break</a> = <a class="code" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a>;
    <a class="code" href="mm_8c.html#a382bf173e93d5b52f7387b81913ddec5">mm_prev_break</a> = <a class="code" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a>;
    <a class="code" href="mm_8c.html#aa3abe9a33212c2a76ad5a5b311d9fdfb">last_valid_address</a> = <a class="code" href="mm_8c.html#ae6ea72ea9b13965ca0a411909cf1d836">HEAP_ADDR</a>;
    <a class="code" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a> = 0;
} 
</pre></div>
</div>
</div>
<a class="anchor" id="a3421aed4792b89e78be604efbae319dc"></a><!-- doxytag: member="mm.c::hmm_malloc" ref="a3421aed4792b89e78be604efbae319dc" args="(unsigned long size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="mm_8h.html#a3421aed4792b89e78be604efbae319dc">hmm_malloc</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00411">411</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="unionheader.html">fl_bheader</a> *p, *prevp;
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nunits; 
    nunits = (size + <span class="keyword">sizeof</span>(<a class="code" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a>) - 1)/<span class="keyword">sizeof</span>(<a class="code" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a>) + 1;
    <span class="keywordflow">if</span>(nunits &lt; 2){
        <span class="keywordflow">return</span> 0;
    }
    
    <span class="keywordflow">if</span> ((prevp = <a class="code" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a>) == 0 ) { <span class="comment">/* no free list yet */</span>
        <a class="code" href="mm_8c.html#a793c43e1bf8501fea23668a2ab7a7021">freep_base</a>.<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a> = <a class="code" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a> = prevp = &amp;<a class="code" href="mm_8c.html#a793c43e1bf8501fea23668a2ab7a7021">freep_base</a>;
        <a class="code" href="mm_8c.html#a793c43e1bf8501fea23668a2ab7a7021">freep_base</a>.<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> = 0;
    }
    <span class="keywordflow">for</span> ( p = prevp-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>; ; prevp = p, p = p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>) {
        <span class="keywordflow">if</span> ( p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> &gt;= nunits ) { <span class="comment">/* big enough */</span>
            <span class="keywordflow">if</span> ( p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> == nunits ) <span class="comment">/* exactly */</span>
                prevp-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a> = p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#a0e84d7fb56aa45d0a3eb7083a5ff1b63">ptr</a>;
            <span class="keywordflow">else</span> {                    <span class="comment">/* allocate tail end */</span>
                p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> -= nunits;
                p += p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a>;
                p-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> = nunits;
            }
            <a class="code" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a> = prevp;
            <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)(p+1);
    }
    <span class="keywordflow">if</span> ( p == <a class="code" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a> )   <span class="comment">/* wrapped around free list */</span>
        <span class="keywordflow">if</span> (( p = <a class="code" href="mm_8c.html#a50b17e6b64d9c0892bce1d8585e4f6a7">morecore</a>(nunits)) == 0 )
                <span class="keywordflow">return</span> 0;  <span class="comment">/* none avaliable memory left */</span>
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mm_8c_a3421aed4792b89e78be604efbae319dc_cgraph.png" border="0" usemap="#mm_8c_a3421aed4792b89e78be604efbae319dc_cgraph" alt=""/></div>
<map name="mm_8c_a3421aed4792b89e78be604efbae319dc_cgraph" id="mm_8c_a3421aed4792b89e78be604efbae319dc_cgraph">
<area shape="rect" id="node3" href="mm_8c.html#a50b17e6b64d9c0892bce1d8585e4f6a7" title="morecore" alt="" coords="151,85,225,115"/><area shape="rect" id="node5" href="mm_8c.html#aed9cb3337e230955ad366c56c50f1c9e" title="hmm_sbrk" alt="" coords="275,59,357,88"/><area shape="rect" id="node15" href="mm_8c.html#ab7237ca6c0b383d215c263b9f1855388" title="hmm_free" alt="" coords="276,112,356,141"/><area shape="rect" id="node7" href="mm_8c.html#addc0cbf4f901eef091961846460ab81f" title="hmm_map" alt="" coords="405,59,488,88"/><area shape="rect" id="node9" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a" title="hmm_get_l3_table_entry" alt="" coords="547,5,709,35"/><area shape="rect" id="node11" href="lpae_8c.html#a7063374a9b74906e426f94dc544b132b" title="lpaed_stage1_conf_l3_table" alt="" coords="537,59,719,88"/><area shape="rect" id="node13" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51" title="hmm_flushTLB" alt="" coords="573,112,683,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="addc0cbf4f901eef091961846460ab81f"></a><!-- doxytag: member="mm.c::hmm_map" ref="addc0cbf4f901eef091961846460ab81f" args="(unsigned long phys, unsigned long virt, unsigned long npages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="mm_8h.html#addc0cbf4f901eef091961846460ab81f">hmm_map</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>phys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>virt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>npages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00337">337</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> i;
    <a class="code" href="unionlpaed__t.html">lpaed_t</a>* map_table_p = <a class="code" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a">hmm_get_l3_table_entry</a>( virt, npages );
    <span class="keywordflow">for</span>( i = 0; i &lt; npages; i++){
        <a class="code" href="lpae_8c.html#a7063374a9b74906e426f94dc544b132b">lpaed_stage1_conf_l3_table</a>( &amp;map_table_p[i], (<a class="code" href="arch__types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>)phys, 1 );
    }
    <a class="code" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51">hmm_flushTLB</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mm_8c_addc0cbf4f901eef091961846460ab81f_cgraph.png" border="0" usemap="#mm_8c_addc0cbf4f901eef091961846460ab81f_cgraph" alt=""/></div>
<map name="mm_8c_addc0cbf4f901eef091961846460ab81f_cgraph" id="mm_8c_addc0cbf4f901eef091961846460ab81f_cgraph">
<area shape="rect" id="node3" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a" title="hmm_get_l3_table_entry" alt="" coords="147,5,309,35"/><area shape="rect" id="node5" href="lpae_8c.html#a7063374a9b74906e426f94dc544b132b" title="lpaed_stage1_conf_l3_table" alt="" coords="137,59,319,88"/><area shape="rect" id="node7" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51" title="hmm_flushTLB" alt="" coords="173,112,283,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aed9cb3337e230955ad366c56c50f1c9e"></a><!-- doxytag: member="mm.c::hmm_sbrk" ref="aed9cb3337e230955ad366c56c50f1c9e" args="(unsigned int incr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="mm_8c.html#aed9cb3337e230955ad366c56c50f1c9e">hmm_sbrk</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>incr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00350">350</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> required_addr;
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> virt;
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> required_pages = 0;

    <a class="code" href="mm_8c.html#a382bf173e93d5b52f7387b81913ddec5">mm_prev_break</a> = <a class="code" href="mm_8c.html#aaeb50616cf303a81199782dccfe98461">mm_break</a>;
    virt = <a class="code" href="mm_8c.html#aaeb50616cf303a81199782dccfe98461">mm_break</a>;
    <a class="code" href="mm_8c.html#aaeb50616cf303a81199782dccfe98461">mm_break</a> += incr;
    <span class="keywordflow">if</span>( <a class="code" href="mm_8c.html#aaeb50616cf303a81199782dccfe98461">mm_break</a> &gt; <a class="code" href="mm_8c.html#aa3abe9a33212c2a76ad5a5b311d9fdfb">last_valid_address</a> ){
        required_addr = <a class="code" href="mm_8c.html#aaeb50616cf303a81199782dccfe98461">mm_break</a> - <a class="code" href="mm_8c.html#aa3abe9a33212c2a76ad5a5b311d9fdfb">last_valid_address</a>;
        <span class="keywordflow">for</span>( ;required_addr &gt; 0x0; required_addr -= 0x1000){
            <span class="keywordflow">if</span>( last_valid_address + 0x1000 &gt; <a class="code" href="mm_8c.html#a3dae59fafa297ee1eeadf416db7b4b1e">HEAP_END_ADDR</a> ){
                printh(<span class="stringliteral">&quot;%s[%d] required address is exceeded heap memory size\n&quot;</span>, __FUNCTION__, __LINE__);
                <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)-1;
            }
            last_valid_address += 0x1000;
            required_pages++;
        }
        <a class="code" href="mm_8c.html#addc0cbf4f901eef091961846460ab81f">hmm_map</a>(virt, virt, required_pages);
    }
    <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)<a class="code" href="mm_8c.html#a382bf173e93d5b52f7387b81913ddec5">mm_prev_break</a>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mm_8c_aed9cb3337e230955ad366c56c50f1c9e_cgraph.png" border="0" usemap="#mm_8c_aed9cb3337e230955ad366c56c50f1c9e_cgraph" alt=""/></div>
<map name="mm_8c_aed9cb3337e230955ad366c56c50f1c9e_cgraph" id="mm_8c_aed9cb3337e230955ad366c56c50f1c9e_cgraph">
<area shape="rect" id="node3" href="mm_8c.html#addc0cbf4f901eef091961846460ab81f" title="hmm_map" alt="" coords="136,59,219,88"/><area shape="rect" id="node5" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a" title="hmm_get_l3_table_entry" alt="" coords="277,5,440,35"/><area shape="rect" id="node7" href="lpae_8c.html#a7063374a9b74906e426f94dc544b132b" title="lpaed_stage1_conf_l3_table" alt="" coords="268,59,449,88"/><area shape="rect" id="node9" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51" title="hmm_flushTLB" alt="" coords="304,112,413,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4ca7bdd94dcc4cfff4b534b6ba0c7493"></a><!-- doxytag: member="mm.c::hmm_umap" ref="a4ca7bdd94dcc4cfff4b534b6ba0c7493" args="(unsigned long virt, unsigned long npages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="mm_8h.html#a4ca7bdd94dcc4cfff4b534b6ba0c7493">hmm_umap</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>virt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>npages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00327">327</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{ 
    <span class="keywordtype">int</span>  i;
    <a class="code" href="unionlpaed__t.html">lpaed_t</a>* map_table_p = <a class="code" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a">hmm_get_l3_table_entry</a>( virt, npages );
    <span class="keywordflow">for</span>( i = 0; i &lt; npages; i++){
        <a class="code" href="lpae_8c.html#a8ab1751ba62e519b19560863ee75fbf8">lpaed_stage1_disable_l3_table</a>( &amp;map_table_p[i] );
    }
    <a class="code" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51">hmm_flushTLB</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mm_8c_a4ca7bdd94dcc4cfff4b534b6ba0c7493_cgraph.png" border="0" usemap="#mm_8c_a4ca7bdd94dcc4cfff4b534b6ba0c7493_cgraph" alt=""/></div>
<map name="mm_8c_a4ca7bdd94dcc4cfff4b534b6ba0c7493_cgraph" id="mm_8c_a4ca7bdd94dcc4cfff4b534b6ba0c7493_cgraph">
<area shape="rect" id="node3" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a" title="hmm_get_l3_table_entry" alt="" coords="163,5,325,35"/><area shape="rect" id="node5" href="lpae_8c.html#a8ab1751ba62e519b19560863ee75fbf8" title="lpaed_stage1_disable_l3_table" alt="" coords="145,59,343,88"/><area shape="rect" id="node7" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51" title="hmm_flushTLB" alt="" coords="189,112,299,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae8f2b7d0b30b5fa78b50cee688872d93"></a><!-- doxytag: member="mm.c::hvmm_mm_init" ref="ae8f2b7d0b30b5fa78b50cee688872d93" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="mm_8h.html#ae8f2b7d0b30b5fa78b50cee688872d93">hvmm_mm_init</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00193">193</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">/*</span>
<span class="comment"> *  MAIR0, MAIR1</span>
<span class="comment"> *  HMAIR0, HMAIR1</span>
<span class="comment"> *  HTCR</span>
<span class="comment"> *  HTCTLR</span>
<span class="comment"> *  HTTBR</span>
<span class="comment"> *  HTCTLR</span>
<span class="comment"> */</span>
    <a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> mair, htcr, hsctlr, hcr;
    <a class="code" href="arch__types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> httbr;
    uart_print( <span class="stringliteral">&quot;[mm] mm_init: enter\n\r&quot;</span> );
    
    <a class="code" href="vmm_8c.html#a34e0e13c32b08fd108582567c29ccebf">vmm_init</a>();
    <a class="code" href="mm_8c.html#aa82c7756438b1aa5429be9ee49aea5ed">_hmm_init</a>();

    <span class="comment">// MAIR/HMAIR</span>
    uart_print(<span class="stringliteral">&quot; --- MAIR ----\n\r&quot;</span> );
    mair = <a class="code" href="armv7__p15_8h.html#a9be943306a7c8c92e242d7b0c528c104">read_mair0</a>(); uart_print( <span class="stringliteral">&quot;mair0:&quot;</span>); uart_print_hex32(mair); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    mair = <a class="code" href="armv7__p15_8h.html#a4202580631120ea819013536d1764714">read_mair1</a>(); uart_print( <span class="stringliteral">&quot;mair1:&quot;</span>); uart_print_hex32(mair); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    mair = <a class="code" href="armv7__p15_8h.html#ad0f95cce118c43e27e56c573d2474589">read_hmair0</a>(); uart_print( <span class="stringliteral">&quot;hmair0:&quot;</span>); uart_print_hex32(mair); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    mair = <a class="code" href="armv7__p15_8h.html#a9c20c8c67832c7220daa6decf3716d3a">read_hmair1</a>(); uart_print( <span class="stringliteral">&quot;hmair1:&quot;</span>); uart_print_hex32(mair); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);

    <a class="code" href="armv7__p15_8h.html#a4c688b4baf4bb99717ab883ec98731e3">write_mair0</a>( <a class="code" href="mm_8c.html#a2c907a8bc3ef7ca2e00817e63708771f">INITIAL_MAIR0VAL</a> );
    <a class="code" href="armv7__p15_8h.html#a95ccc5e9e75f16d92e86e8c5e8795021">write_mair1</a>( <a class="code" href="mm_8c.html#a2b56f7118e928dce984ab8eab8ebf79a">INITIAL_MAIR1VAL</a> );
    <a class="code" href="armv7__p15_8h.html#aceed5bc8f6ff935f285f0151d02984f4">write_hmair0</a>( <a class="code" href="mm_8c.html#a2c907a8bc3ef7ca2e00817e63708771f">INITIAL_MAIR0VAL</a> );
    <a class="code" href="armv7__p15_8h.html#a28ff414c50b9d208a74c509495c03798">write_hmair1</a>( <a class="code" href="mm_8c.html#a2b56f7118e928dce984ab8eab8ebf79a">INITIAL_MAIR1VAL</a> );

    mair = <a class="code" href="armv7__p15_8h.html#a9be943306a7c8c92e242d7b0c528c104">read_mair0</a>(); uart_print( <span class="stringliteral">&quot;mair0:&quot;</span>); uart_print_hex32(mair); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    mair = <a class="code" href="armv7__p15_8h.html#a4202580631120ea819013536d1764714">read_mair1</a>(); uart_print( <span class="stringliteral">&quot;mair1:&quot;</span>); uart_print_hex32(mair); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    mair = <a class="code" href="armv7__p15_8h.html#ad0f95cce118c43e27e56c573d2474589">read_hmair0</a>(); uart_print( <span class="stringliteral">&quot;hmair0:&quot;</span>); uart_print_hex32(mair); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    mair = <a class="code" href="armv7__p15_8h.html#a9c20c8c67832c7220daa6decf3716d3a">read_hmair1</a>(); uart_print( <span class="stringliteral">&quot;hmair1:&quot;</span>); uart_print_hex32(mair); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);

    <span class="comment">// HTCR</span>
    uart_print(<span class="stringliteral">&quot; --- HTCR ----\n\r&quot;</span> );
    htcr = <a class="code" href="armv7__p15_8h.html#a3a6bae959f288dba466eaf69ddb942af">read_htcr</a>(); uart_print( <span class="stringliteral">&quot;htcr:&quot;</span>); uart_print_hex32(htcr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    <a class="code" href="armv7__p15_8h.html#ac82f4f6d095d646b4c5dfe8ada9fb08b">write_htcr</a>( 0x80002500 );
    htcr = <a class="code" href="armv7__p15_8h.html#a3a6bae959f288dba466eaf69ddb942af">read_htcr</a>(); uart_print( <span class="stringliteral">&quot;htcr:&quot;</span>); uart_print_hex32(htcr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);

    <span class="comment">// HSCTLR</span>
    <span class="comment">// i-Cache and Alignment Checking Enabled</span>
    <span class="comment">// MMU, D-cache, Write-implies-XN, Low-latency IRQs Disabled</span>
    hsctlr = <a class="code" href="armv7__p15_8h.html#a13913f74bb5cce3c362082e705da87db">read_hsctlr</a>(); uart_print( <span class="stringliteral">&quot;hsctlr:&quot;</span>); uart_print_hex32(hsctlr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    hsctlr = <a class="code" href="mm_8c.html#ac0a5410252496a99d2ac094e358052da">HSCTLR_BASE</a> | <a class="code" href="mm_8c.html#acf49275ed384ea3668029cb0d87f93d1">SCTLR_A</a>;
    <a class="code" href="armv7__p15_8h.html#a94fd8feb077baacec23b5626e75052d2">write_hsctlr</a>( hsctlr );
    hsctlr = <a class="code" href="armv7__p15_8h.html#a13913f74bb5cce3c362082e705da87db">read_hsctlr</a>(); uart_print( <span class="stringliteral">&quot;hsctlr:&quot;</span>); uart_print_hex32(hsctlr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);


<span class="comment">// HCR</span>
    hcr = <a class="code" href="armv7__p15_8h.html#a3b7662f2d5a21a8a49f06da2a29483ec">read_hcr</a>(); uart_print( <span class="stringliteral">&quot;hcr:&quot;</span>); uart_print_hex32(hcr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);

<span class="comment">// HTCR</span>
    <span class="comment">/*</span>
<span class="comment">     * Shareability - SH0[13:12] = 0 - Not shared</span>
<span class="comment">     * Outer Cacheability - ORGN0[11:10] = 11b - Write Back no Write Allocate Cacheable</span>
<span class="comment">     * Inner Cacheability - IRGN0[9:8] = 11b - Same</span>
<span class="comment">     * T0SZ[2:0] = 0 - 2^32 Input Address </span>
<span class="comment">     */</span>
    <span class="comment">/* Untested code commented */</span>
<span class="comment">/*</span>
<span class="comment">    htcr = read_htcr(); uart_print( &quot;htcr:&quot;); uart_print_hex32(htcr); uart_print(&quot;\n\r&quot;);</span>
<span class="comment">    htcr &amp;= ~HTCR_SH0_MASK;</span>
<span class="comment">    htcr |= (0x0 &lt;&lt; HTCR_SH0_SHIFT) &amp; HTCR_SH0_MASK;</span>
<span class="comment">    htcr &amp;= ~HTCR_ORGN0_MASK;</span>
<span class="comment">    htcr |= (0x3 &lt;&lt; HTCR_ORGN0_SHIFT) &amp; HTCR_ORGN0_MASK;</span>
<span class="comment">    htcr &amp;= ~VTCR_IRGN0_MASK;</span>
<span class="comment">    htcr |= (0x3 &lt;&lt; HTCR_IRGN0_SHIFT) &amp; HTCR_IRGN0_MASK;</span>
<span class="comment">    htcr &amp;= ~VTCR_T0SZ_MASK;</span>
<span class="comment">    htcr |= (0x0 &lt;&lt; HTCR_T0SZ_SHIFT) &amp; HTCR_T0SZ_MASK;</span>
<span class="comment">    write_htcr( htcr );</span>
<span class="comment">    htcr = read_htcr(); uart_print( &quot;htcr:&quot;); uart_print_hex32(htcr); uart_print(&quot;\n\r&quot;);</span>
<span class="comment">*/</span>

    <span class="comment">/* HTTBR = &amp;__hmm_pgtable */</span>
    httbr = <a class="code" href="armv7__p15_8h.html#a814b3bae099b30c902bcd707bb4293a1">read_httbr</a>(); uart_print( <span class="stringliteral">&quot;httbr:&quot;</span> ); uart_print_hex64(httbr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    httbr &amp;= 0xFFFFFFFF00000000ULL;
    httbr |= (<a class="code" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>) &amp;_hmm_pgtable;
    httbr &amp;= <a class="code" href="mm_8c.html#ab0d4e7fe00a07b5a4bdae6dc2615c555">HTTBR_BADDR_MASK</a>;
    uart_print( <span class="stringliteral">&quot;writing httbr:&quot;</span> ); uart_print_hex64(httbr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);
    <a class="code" href="armv7__p15_8h.html#aadd0a0d0ee622916cac09b282b6b30ac">write_httbr</a>( httbr );
    httbr = <a class="code" href="armv7__p15_8h.html#a814b3bae099b30c902bcd707bb4293a1">read_httbr</a>(); uart_print( <span class="stringliteral">&quot;read back httbr:&quot;</span> ); uart_print_hex64(httbr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);

    <span class="comment">/* Enable PL2 Stage 1 MMU */</span>

    hsctlr = <a class="code" href="armv7__p15_8h.html#a13913f74bb5cce3c362082e705da87db">read_hsctlr</a>(); uart_print( <span class="stringliteral">&quot;hsctlr:&quot;</span>); uart_print_hex32(hsctlr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);

    <span class="comment">/* HSCTLR Enable MMU and D-cache */</span>
    <span class="comment">// hsctlr |= (SCTLR_M |SCTLR_C);</span>
    hsctlr |= (<a class="code" href="mm_8c.html#abe99dc6083b4bfc86a229928483c84a4">SCTLR_M</a>);
    
    <span class="comment">/* Flush PTE writes */</span>
    <span class="keyword">asm</span>(<span class="stringliteral">&quot;dsb&quot;</span>);

    <a class="code" href="armv7__p15_8h.html#a94fd8feb077baacec23b5626e75052d2">write_hsctlr</a>( hsctlr );

    <span class="comment">/* Flush iCache */</span>
    <span class="keyword">asm</span>(<span class="stringliteral">&quot;isb&quot;</span>);

    hsctlr = <a class="code" href="armv7__p15_8h.html#a13913f74bb5cce3c362082e705da87db">read_hsctlr</a>(); uart_print( <span class="stringliteral">&quot;hsctlr:&quot;</span>); uart_print_hex32(hsctlr); uart_print(<span class="stringliteral">&quot;\n\r&quot;</span>);

    <a class="code" href="mm_8c.html#a7c9c4518af771f7f39434b5dcc41d1d4">hmm_heap_init</a>();

    uart_print( <span class="stringliteral">&quot;[mm] mm_init: exit\n\r&quot;</span> );

    <span class="keywordflow">return</span> <a class="code" href="hvmm__types_8h.html#a39d593b2c97852f566d7472b76ab7ba2addc8231abb0339e0a6abc0d34b156faf">HVMM_STATUS_SUCCESS</a>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mm_8c_ae8f2b7d0b30b5fa78b50cee688872d93_cgraph.png" border="0" usemap="#mm_8c_ae8f2b7d0b30b5fa78b50cee688872d93_cgraph" alt=""/></div>
<map name="mm_8c_ae8f2b7d0b30b5fa78b50cee688872d93_cgraph" id="mm_8c_ae8f2b7d0b30b5fa78b50cee688872d93_cgraph">
<area shape="rect" id="node3" href="vmm_8c.html#a34e0e13c32b08fd108582567c29ccebf" title="vmm_init" alt="" coords="184,85,259,115"/><area shape="rect" id="node29" href="mm_8c.html#aa82c7756438b1aa5429be9ee49aea5ed" title="_hmm_init" alt="" coords="180,192,263,221"/><area shape="rect" id="node39" href="mm_8c.html#a7c9c4518af771f7f39434b5dcc41d1d4" title="hmm_heap_init" alt="" coords="167,245,276,275"/><area shape="rect" id="node5" href="vmm_8c.html#af16a19da3c025dd4aaa0e40ae0bcb205" title="vmm_init_ttbl" alt="" coords="367,32,465,61"/><area shape="rect" id="node27" href="vmm_8c.html#a38fe20d83b4f1d4ceb4f7f9b737a6f2d" title="vmm_init_mmu" alt="" coords="361,85,471,115"/><area shape="rect" id="node7" href="lpae_8c.html#ae7e55ecf2bf23e4f97618e990b61159d" title="lpaed_stage2_conf_l1_table" alt="" coords="556,5,737,35"/><area shape="rect" id="node9" href="vmm_8c.html#aadcc7470fc7393fa03ed15a350195fca" title="vmm_init_ttbl2" alt="" coords="593,59,700,88"/><area shape="rect" id="node11" href="vmm_8c.html#a19aea725b1f8c73bce85b2fd5cd11da0" title="vmm_ttbl2_init_entries" alt="" coords="788,5,940,35"/><area shape="rect" id="node15" href="vmm_8c.html#a3960ecb54fc00d5ec5bb1cbe4ebf4e16" title="vmm_ttbl2_unmap" alt="" coords="800,59,928,88"/><area shape="rect" id="node19" href="vmm_8c.html#ac7f3629c0263bf9be799744dedbe0100" title="vmm_ttbl2_map" alt="" coords="807,112,921,141"/><area shape="rect" id="node13" href="lpae_8c.html#ad87d6a55d9a4301257cc7efe32ad0153" title="lpaed_stage2_conf_l2_table" alt="" coords="997,5,1179,35"/><area shape="rect" id="node17" href="vmm_8c.html#ade96e2f0eb8c3b27c184ea8498777b46" title="vmm_ttbl3_unmap" alt="" coords="1024,59,1152,88"/><area shape="rect" id="node21" href="vmm_8c.html#a180b5829894039ae4bc5e58d16892ab2" title="vmm_ttbl3_map" alt="" coords="1031,112,1145,141"/><area shape="rect" id="node25" href="lpae_8c.html#abfb766e3ac67185b6e435f24b3223527" title="lpaed_stage2_enable_l2_table" alt="" coords="991,165,1185,195"/><area shape="rect" id="node23" href="lpae_8c.html#aff0ed5c291334c705ddbd99f197e1247" title="lpaed_stage2_map_page" alt="" coords="1236,112,1401,141"/><area shape="rect" id="node31" href="lpae_8c.html#aaa674eddb596444230e0aea1ba32e90e" title="hvmm_mm_lpaed_l1_block" alt="" coords="327,139,505,168"/><area shape="rect" id="node33" href="lpae_8c.html#a804b9089155c7bc74ccea12d009c36fd" title="hvmm_mm_lpaed_l1_table" alt="" coords="328,192,504,221"/><area shape="rect" id="node35" href="lpae_8c.html#a6dba6fbdc7725faf61722eff42e18bbc" title="hvmm_mm_lpaed_l2_table" alt="" coords="328,245,504,275"/><area shape="rect" id="node37" href="lpae_8c.html#a1f31704271c412a5077309bf60b83f86" title="hvmm_mm_lpaed_l3_table" alt="" coords="328,299,504,328"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a50b17e6b64d9c0892bce1d8585e4f6a7"></a><!-- doxytag: member="mm.c::morecore" ref="a50b17e6b64d9c0892bce1d8585e4f6a7" args="(unsigned int nu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a>* <a class="el" href="mm_8c.html#a50b17e6b64d9c0892bce1d8585e4f6a7">morecore</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nu</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00396">396</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> *cp;
    <a class="code" href="unionheader.html">fl_bheader</a> *up;
    <span class="keywordflow">if</span> ( nu &lt; <a class="code" href="mm_8c.html#ac6dcef7a1829fc392ee1ed77205ec2ff">NALLOC</a> )
        nu = <a class="code" href="mm_8c.html#ac6dcef7a1829fc392ee1ed77205ec2ff">NALLOC</a>;
    cp = <a class="code" href="mm_8c.html#aed9cb3337e230955ad366c56c50f1c9e">hmm_sbrk</a>(nu * <span class="keyword">sizeof</span>(<a class="code" href="unionheader.html">fl_bheader</a>));
    <span class="keywordflow">if</span> ( cp == (<span class="keywordtype">char</span> *) -1 ) <span class="comment">/* no space at all */</span>
        <span class="keywordflow">return</span> 0;
    up = (<a class="code" href="unionheader.html">fl_bheader</a> *)cp;
    up-&gt;<a class="code" href="unionheader.html#a958d7cb7719f42c07c1a600553d0db44">s</a>.<a class="code" href="unionheader.html#aac913b3a1f6ef005d66bf7a84428773e">size</a> = nu;
    <a class="code" href="mm_8c.html#ab7237ca6c0b383d215c263b9f1855388">hmm_free</a>((<span class="keywordtype">void</span>*)(up+1));
    <span class="keywordflow">return</span> <a class="code" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mm_8c_a50b17e6b64d9c0892bce1d8585e4f6a7_cgraph.png" border="0" usemap="#mm_8c_a50b17e6b64d9c0892bce1d8585e4f6a7_cgraph" alt=""/></div>
<map name="mm_8c_a50b17e6b64d9c0892bce1d8585e4f6a7_cgraph" id="mm_8c_a50b17e6b64d9c0892bce1d8585e4f6a7_cgraph">
<area shape="rect" id="node3" href="mm_8c.html#aed9cb3337e230955ad366c56c50f1c9e" title="hmm_sbrk" alt="" coords="131,59,213,88"/><area shape="rect" id="node13" href="mm_8c.html#ab7237ca6c0b383d215c263b9f1855388" title="hmm_free" alt="" coords="132,112,212,141"/><area shape="rect" id="node5" href="mm_8c.html#addc0cbf4f901eef091961846460ab81f" title="hmm_map" alt="" coords="261,59,344,88"/><area shape="rect" id="node7" href="mm_8c.html#a2474e37847535a7ab59fcef069a3b63a" title="hmm_get_l3_table_entry" alt="" coords="403,5,565,35"/><area shape="rect" id="node9" href="lpae_8c.html#a7063374a9b74906e426f94dc544b132b" title="lpaed_stage1_conf_l3_table" alt="" coords="393,59,575,88"/><area shape="rect" id="node11" href="mm_8c.html#a8c6819b2416a9da42da9a5ac8d1a9d51" title="hmm_flushTLB" alt="" coords="429,112,539,141"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a2af201098f51c02f77e15cd9c8e010eb"></a><!-- doxytag: member="mm.c::freep" ref="a2af201098f51c02f77e15cd9c8e010eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a>* <a class="el" href="mm_8c.html#a2af201098f51c02f77e15cd9c8e010eb">freep</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00134">134</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a793c43e1bf8501fea23668a2ab7a7021"></a><!-- doxytag: member="mm.c::freep_base" ref="a793c43e1bf8501fea23668a2ab7a7021" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mm_8c.html#a725658198c30a10bfdcc6bf6cf30f121">fl_bheader</a> <a class="el" href="mm_8c.html#a793c43e1bf8501fea23668a2ab7a7021">freep_base</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00133">133</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa3abe9a33212c2a76ad5a5b311d9fdfb"></a><!-- doxytag: member="mm.c::last_valid_address" ref="aa3abe9a33212c2a76ad5a5b311d9fdfb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="mm_8c.html#aa3abe9a33212c2a76ad5a5b311d9fdfb">last_valid_address</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00132">132</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="aaeb50616cf303a81199782dccfe98461"></a><!-- doxytag: member="mm.c::mm_break" ref="aaeb50616cf303a81199782dccfe98461" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="mm_8c.html#aaeb50616cf303a81199782dccfe98461">mm_break</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00130">130</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a382bf173e93d5b52f7387b81913ddec5"></a><!-- doxytag: member="mm.c::mm_prev_break" ref="a382bf173e93d5b52f7387b81913ddec5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="arch__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="mm_8c.html#a382bf173e93d5b52f7387b81913ddec5">mm_prev_break</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mm_8c_source.html#l00131">131</a> of file <a class="el" href="mm_8c_source.html">mm.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 18 2014 16:44:40 for khypervisor by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
