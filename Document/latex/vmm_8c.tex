\hypertarget{vmm_8c}{\section{vmm.\-c \-File \-Reference}
\label{vmm_8c}\index{vmm.\-c@{vmm.\-c}}
}
{\ttfamily \#include $<$k-\/hypervisor-\/config.\-h$>$}\*
{\ttfamily \#include $<$arch\-\_\-types.\-h$>$}\*
{\ttfamily \#include \char`\"{}vmm.\-h\char`\"{}}\*
{\ttfamily \#include $<$armv7\-\_\-p15.\-h$>$}\*
{\ttfamily \#include $<$hvmm\-\_\-trace.\-h$>$}\*
{\ttfamily \#include $<$gic\-\_\-regs.\-h$>$}\*
{\ttfamily \#include $<$config/cfg\-\_\-platform.\-h$>$}\*
{\ttfamily \#include $<$log/print.\-h$>$}\*
\-Include dependency graph for vmm.\-c\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmm_8c__incl}
\end{center}
\end{figure}
\subsection*{\-Data \-Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc}
\end{DoxyCompactItemize}
\subsection*{\-Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{vmm_8c_a5c9ff23fc55b3880b7711374b2c6ed2c}{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}~4
\item 
\#define \hyperlink{vmm_8c_ad17b9e7ea6e5fc336dcc13c67e5af25b}{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}~(512 -\/ \hyperlink{vmm_8c_a5c9ff23fc55b3880b7711374b2c6ed2c}{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M})
\item 
\#define \hyperlink{vmm_8c_ac8e7b4467a0918b25fc587bb5eebf49c}{\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}~512
\item 
\#define \hyperlink{vmm_8c_a83c3649efe1790c46a003114d043804a}{\-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}~512
\item 
\#define \hyperlink{vmm_8c_a870261ca6011b676eb30ecfe82cba3c4}{\-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}~(\hyperlink{vmm_8c_ac8e7b4467a0918b25fc587bb5eebf49c}{\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} $\ast$ \hyperlink{vmm_8c_a83c3649efe1790c46a003114d043804a}{\-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} + \hyperlink{vmm_8c_ac8e7b4467a0918b25fc587bb5eebf49c}{\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M})
\item 
\#define \hyperlink{vmm_8c_a688dcab9622be915add1142e443765af}{\-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}
\item 
\#define \hyperlink{vmm_8c_a0c989f6abba867b8e096680b743ec2bb}{\-V\-T\-T\-B\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}~0x0000000000000000\-U\-L\-L
\item 
\#define \hyperlink{vmm_8c_a51957d8f1ea0f906cb820566d2e6ac13}{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-M\-A\-S\-K}~0x00\-F\-F000000000000\-U\-L\-L
\item 
\#define \hyperlink{vmm_8c_adc8f291db26100706ad7043e243b3d90}{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-S\-H\-I\-F\-T}~48
\item 
\#define \hyperlink{vmm_8c_a4501b8c9d5eb0090c0d25441720e3fa9}{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-M\-A\-S\-K}~0x000000\-F\-F\-F\-F\-F\-F\-F000\-U\-L\-L
\item 
\#define \hyperlink{vmm_8c_a982e014fa0268dd1b0a5e5be293a8ae5}{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-S\-H\-I\-F\-T}~12
\item 
\#define \hyperlink{vmm_8c_a9a20ace708d1b6337a9566d642935539}{\-V\-T\-C\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}~0x80000000
\item 
\#define \hyperlink{vmm_8c_af7d5d0dc5a8977952e8aed205da6c304}{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-M\-A\-S\-K}~0x00003000
\item 
\#define \hyperlink{vmm_8c_a3ba4842d356096b736ce33c9a24b7eef}{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-S\-H\-I\-F\-T}~12
\item 
\#define \hyperlink{vmm_8c_a0e9815ab39112b056cedd5278369a820}{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-M\-A\-S\-K}~0x00000\-C00
\item 
\#define \hyperlink{vmm_8c_ad376839c4dd58e59a2d87bb75dd8e255}{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}~10
\item 
\#define \hyperlink{vmm_8c_aef6d731bf143ca17e85b3c20ffb45192}{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-M\-A\-S\-K}~0x00000300
\item 
\#define \hyperlink{vmm_8c_a8f5a4439ffca4389d3a459d26438dfba}{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}~8
\item 
\#define \hyperlink{vmm_8c_adca291ecf73c449c91954d38537eaf1f}{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-M\-A\-S\-K}~0x000000\-C0
\item 
\#define \hyperlink{vmm_8c_a6e3d36dfbedada46d5c28f629cab4711}{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-S\-H\-I\-F\-T}~6
\item 
\#define \hyperlink{vmm_8c_aea183379c627710b6ef76430f1e5ac7c}{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-M\-A\-S\-K}~0x00000010
\item 
\#define \hyperlink{vmm_8c_a0e7fdcac3ed330a548c0d042c9eabfc7}{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-S\-H\-I\-F\-T}~4
\item 
\#define \hyperlink{vmm_8c_a37dec823405557e8738315f9dbf05456}{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-M\-A\-S\-K}~0x00000003
\item 
\#define \hyperlink{vmm_8c_acf1945529379104ce3708b14ffa357af}{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-S\-H\-I\-F\-T}~0
\item 
\#define \hyperlink{vmm_8c_ab8a3dfcf3e8c3051219e7b45c27398bd}{\-T\-T\-B\-L\-\_\-\-L3}(ttbl\-\_\-l2, index\-\_\-l2)~(\&ttbl\-\_\-l2\mbox{[}\hyperlink{vmm_8c_ac8e7b4467a0918b25fc587bb5eebf49c}{\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} + (\hyperlink{vmm_8c_a83c3649efe1790c46a003114d043804a}{\-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} $\ast$ (index\-\_\-l2))\mbox{]})
\item 
\#define \hyperlink{vmm_8c_a167262f708f4cb3a5ce75a3bcd22b85f}{\-T\-T\-B\-L\-\_\-\-L2}(ttbl\-\_\-l1, index\-\_\-l1)~(\&ttbl\-\_\-l1\mbox{[}(\hyperlink{vmm_8c_a5c9ff23fc55b3880b7711374b2c6ed2c}{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} + \hyperlink{vmm_8c_ad17b9e7ea6e5fc336dcc13c67e5af25b}{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}) + (\hyperlink{vmm_8c_a870261ca6011b676eb30ecfe82cba3c4}{\-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L} $\ast$ (index\-\_\-l1))\mbox{]})
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{unionlpaed__t}{lpaed\-\_\-t} \-\_\-ttbl\-\_\-guest0\mbox{[}\hyperlink{vmm_8c_a688dcab9622be915add1142e443765af}{\-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}\mbox{]} \hyperlink{vmm_8c_a97063b985af7dad6fae4b4d7a8a69523}{\-\_\-\-\_\-attribute} ((\-\_\-\-\_\-aligned\-\_\-\-\_\-(4096)))
\item 
static void \hyperlink{vmm_8c_a180b5829894039ae4bc5e58d16892ab2}{vmm\-\_\-ttbl3\-\_\-map} (\hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ttbl3, \hyperlink{arch__types_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} offset, \hyperlink{arch__types_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} pages, \hyperlink{arch__types_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} pa, \hyperlink{lpae_8h_a05d556a9b3ba68a3bafcc96839956371}{lpaed\-\_\-stage2\-\_\-memattr\-\_\-t} mattr)
\item 
static void \hyperlink{vmm_8c_ade96e2f0eb8c3b27c184ea8498777b46}{vmm\-\_\-ttbl3\-\_\-unmap} (\hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ttbl3, \hyperlink{arch__types_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} offset, \hyperlink{arch__types_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} pages)
\item 
static void \hyperlink{vmm_8c_a3960ecb54fc00d5ec5bb1cbe4ebf4e16}{vmm\-\_\-ttbl2\-\_\-unmap} (\hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ttbl2, \hyperlink{arch__types_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} va\-\_\-offset, \hyperlink{arch__types_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} size)
\item 
static void \hyperlink{vmm_8c_ac7f3629c0263bf9be799744dedbe0100}{vmm\-\_\-ttbl2\-\_\-map} (\hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ttbl2, \hyperlink{arch__types_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} va\-\_\-offset, \hyperlink{arch__types_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} pa, \hyperlink{arch__types_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} size, \hyperlink{lpae_8h_a05d556a9b3ba68a3bafcc96839956371}{lpaed\-\_\-stage2\-\_\-memattr\-\_\-t} mattr)
\item 
static void \hyperlink{vmm_8c_a19aea725b1f8c73bce85b2fd5cd11da0}{vmm\-\_\-ttbl2\-\_\-init\-\_\-entries} (\hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ttbl2)
\item 
static void \hyperlink{vmm_8c_aadcc7470fc7393fa03ed15a350195fca}{vmm\-\_\-init\-\_\-ttbl2} (\hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ttbl2, struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} $\ast$md)
\item 
static void \hyperlink{vmm_8c_af16a19da3c025dd4aaa0e40ae0bcb205}{vmm\-\_\-init\-\_\-ttbl} (\hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ttbl, struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} $\ast$mdlist\mbox{[}$\,$\mbox{]})
\item 
static void \hyperlink{vmm_8c_a38fe20d83b4f1d4ceb4f7f9b737a6f2d}{vmm\-\_\-init\-\_\-mmu} (void)
\item 
void \hyperlink{vmm_8c_a34e0e13c32b08fd108582567c29ccebf}{vmm\-\_\-init} (void)
\item 
\hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ \hyperlink{vmm_8c_a269ada885aa7296fc4601e4cfe6a134b}{vmm\-\_\-vmid\-\_\-ttbl} (\hyperlink{hvmm__types_8h_af7e9bd0adfb7d10e7a7a0ee60a5f962c}{vmid\-\_\-t} vmid)
\item 
void \hyperlink{vmm_8c_aad790266948b8b547025a7a62006f0da}{vmm\-\_\-stage2\-\_\-enable} (int enable)
\item 
\hyperlink{hvmm__types_8h_a39d593b2c97852f566d7472b76ab7ba2}{hvmm\-\_\-status\-\_\-t} \hyperlink{vmm_8c_afee733063f1c9c6f9fa314492d1ffb11}{vmm\-\_\-set\-\_\-vmid\-\_\-ttbl} (\hyperlink{hvmm__types_8h_af7e9bd0adfb7d10e7a7a0ee60a5f962c}{vmid\-\_\-t} vmid, \hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ttbl)
\end{DoxyCompactItemize}
\subsection*{\-Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{arch__types_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{vmm_8c_a6834f1cdeb19fe290ffeb2f62394e5cd}{guest\-\_\-bin\-\_\-start}
\item 
\hyperlink{arch__types_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{vmm_8c_ab6ae8dae234de686040fcd733765cdc5}{guest2\-\_\-bin\-\_\-start}
\item 
static \hyperlink{unionlpaed__t}{lpaed\-\_\-t} $\ast$ \hyperlink{vmm_8c_a01ee9b39803516e895627447812e4ee1}{\-\_\-vmid\-\_\-ttbl} \mbox{[}\hyperlink{hyp__config_8h_a7fcfcbc766cea81a21e2d8aba3b54843}{\-N\-U\-M\-\_\-\-G\-U\-E\-S\-T\-S\-\_\-\-S\-T\-A\-T\-I\-C}\mbox{]}
\item 
static struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} \hyperlink{vmm_8c_a36e85cb6296246e95073b1ee9e45abd2}{guest\-\_\-md\-\_\-empty} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} \hyperlink{vmm_8c_ac04a34d558fa50fcd48a6b62694049e3}{guest\-\_\-device\-\_\-md0} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} \hyperlink{vmm_8c_a4065b8a2c64a98de1549a250d4a5ddba}{guest\-\_\-device\-\_\-md1} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} \hyperlink{vmm_8c_a3d3790518e4334717071a39482dde8ec}{guest\-\_\-memory\-\_\-md0} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} \hyperlink{vmm_8c_a2ecf2b20575bb082ed279e4094298656}{guest\-\_\-memory\-\_\-md1} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} $\ast$ \hyperlink{vmm_8c_a0974e8331682cf4d953667cf4b24b4ee}{guest\-\_\-mdlist0} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structmemmap__desc}{memmap\-\_\-desc} $\ast$ \hyperlink{vmm_8c_a61961d5dffc30571d28cbb7b4cf5cb94}{guest\-\_\-mdlist1} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{\-Define \-Documentation}
\hypertarget{vmm_8c_a167262f708f4cb3a5ce75a3bcd22b85f}{\index{vmm.\-c@{vmm.\-c}!\-T\-T\-B\-L\-\_\-\-L2@{\-T\-T\-B\-L\-\_\-\-L2}}
\index{\-T\-T\-B\-L\-\_\-\-L2@{\-T\-T\-B\-L\-\_\-\-L2}!vmm.c@{vmm.\-c}}
\subsubsection[{\-T\-T\-B\-L\-\_\-\-L2}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-T\-T\-B\-L\-\_\-\-L2}(
\begin{DoxyParamCaption}
\item[{}]{ttbl\-\_\-l1, }
\item[{}]{index\-\_\-l1}
\end{DoxyParamCaption}
)~(\&ttbl\-\_\-l1\mbox{[}({\bf \-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} + {\bf \-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}) + ({\bf \-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L} $\ast$ (index\-\_\-l1))\mbox{]})}}\label{vmm_8c_a167262f708f4cb3a5ce75a3bcd22b85f}


\-Definition at line 116 of file vmm.\-c.

\hypertarget{vmm_8c_ab8a3dfcf3e8c3051219e7b45c27398bd}{\index{vmm.\-c@{vmm.\-c}!\-T\-T\-B\-L\-\_\-\-L3@{\-T\-T\-B\-L\-\_\-\-L3}}
\index{\-T\-T\-B\-L\-\_\-\-L3@{\-T\-T\-B\-L\-\_\-\-L3}!vmm.c@{vmm.\-c}}
\subsubsection[{\-T\-T\-B\-L\-\_\-\-L3}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-T\-T\-B\-L\-\_\-\-L3}(
\begin{DoxyParamCaption}
\item[{}]{ttbl\-\_\-l2, }
\item[{}]{index\-\_\-l2}
\end{DoxyParamCaption}
)~(\&ttbl\-\_\-l2\mbox{[}{\bf \-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} + ({\bf \-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} $\ast$ (index\-\_\-l2))\mbox{]})}}\label{vmm_8c_ab8a3dfcf3e8c3051219e7b45c27398bd}


\-Definition at line 115 of file vmm.\-c.

\hypertarget{vmm_8c_ad17b9e7ea6e5fc336dcc13c67e5af25b}{\index{vmm.\-c@{vmm.\-c}!\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M@{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}}
\index{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M@{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-M\-M\-\_\-\-L1\-\_\-\-P\-A\-D\-D\-I\-N\-G\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}~(512 -\/ {\bf \-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M})}}\label{vmm_8c_ad17b9e7ea6e5fc336dcc13c67e5af25b}


\-Definition at line 15 of file vmm.\-c.

\hypertarget{vmm_8c_a5c9ff23fc55b3880b7711374b2c6ed2c}{\index{vmm.\-c@{vmm.\-c}!\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M@{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}}
\index{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M@{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-M\-M\-\_\-\-L1\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}~4}}\label{vmm_8c_a5c9ff23fc55b3880b7711374b2c6ed2c}


\-Definition at line 14 of file vmm.\-c.

\hypertarget{vmm_8c_ac8e7b4467a0918b25fc587bb5eebf49c}{\index{vmm.\-c@{vmm.\-c}!\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M@{\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}}
\index{\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M@{\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}~512}}\label{vmm_8c_ac8e7b4467a0918b25fc587bb5eebf49c}


\-Definition at line 17 of file vmm.\-c.

\hypertarget{vmm_8c_a870261ca6011b676eb30ecfe82cba3c4}{\index{vmm.\-c@{vmm.\-c}!\-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L@{\-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}}
\index{\-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L@{\-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-M\-M\-\_\-\-L2\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}~({\bf \-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} $\ast$ {\bf \-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M} + {\bf \-V\-M\-M\-\_\-\-L2\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M})}}\label{vmm_8c_a870261ca6011b676eb30ecfe82cba3c4}


\-Definition at line 19 of file vmm.\-c.

\hypertarget{vmm_8c_a83c3649efe1790c46a003114d043804a}{\index{vmm.\-c@{vmm.\-c}!\-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M@{\-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}}
\index{\-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M@{\-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-M\-M\-\_\-\-L3\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M}~512}}\label{vmm_8c_a83c3649efe1790c46a003114d043804a}


\-Definition at line 18 of file vmm.\-c.

\hypertarget{vmm_8c_a688dcab9622be915add1142e443765af}{\index{vmm.\-c@{vmm.\-c}!\-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L@{\-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}}
\index{\-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L@{\-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}}}\label{vmm_8c_a688dcab9622be915add1142e443765af}
{\bfseries \-Value\-:}
\begin{DoxyCode}
(VMM_L1_PTE_NUM + VMM_L1_PADDING_PTE_NUM + VMM_L2L3_PTE_NUM_TOTAL \
                             * VMM_L1_PTE_NUM)
\end{DoxyCode}


\-Definition at line 20 of file vmm.\-c.

\hypertarget{vmm_8c_a9a20ace708d1b6337a9566d642935539}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L@{\-V\-T\-C\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}}
\index{\-V\-T\-C\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L@{\-V\-T\-C\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}~0x80000000}}\label{vmm_8c_a9a20ace708d1b6337a9566d642935539}


\-Definition at line 30 of file vmm.\-c.

\hypertarget{vmm_8c_aef6d731bf143ca17e85b3c20ffb45192}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-M\-A\-S\-K}}
\index{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-M\-A\-S\-K}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-M\-A\-S\-K}~0x00000300}}\label{vmm_8c_aef6d731bf143ca17e85b3c20ffb45192}


\-Definition at line 35 of file vmm.\-c.

\hypertarget{vmm_8c_a8f5a4439ffca4389d3a459d26438dfba}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}}
\index{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-I\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}~8}}\label{vmm_8c_a8f5a4439ffca4389d3a459d26438dfba}


\-Definition at line 36 of file vmm.\-c.

\hypertarget{vmm_8c_a0e9815ab39112b056cedd5278369a820}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-M\-A\-S\-K}}
\index{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-M\-A\-S\-K}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-M\-A\-S\-K}~0x00000\-C00}}\label{vmm_8c_a0e9815ab39112b056cedd5278369a820}


\-Definition at line 33 of file vmm.\-c.

\hypertarget{vmm_8c_ad376839c4dd58e59a2d87bb75dd8e255}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}}
\index{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-O\-R\-G\-N0\-\_\-\-S\-H\-I\-F\-T}~10}}\label{vmm_8c_ad376839c4dd58e59a2d87bb75dd8e255}


\-Definition at line 34 of file vmm.\-c.

\hypertarget{vmm_8c_aea183379c627710b6ef76430f1e5ac7c}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-S\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-M\-A\-S\-K}}
\index{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-M\-A\-S\-K}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-S\-\_\-\-M\-A\-S\-K}~0x00000010}}\label{vmm_8c_aea183379c627710b6ef76430f1e5ac7c}


\-Definition at line 39 of file vmm.\-c.

\hypertarget{vmm_8c_a0e7fdcac3ed330a548c0d042c9eabfc7}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-S\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-S\-H\-I\-F\-T}}
\index{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-S\-H\-I\-F\-T}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-S\-\_\-\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-S\-\_\-\-S\-H\-I\-F\-T}~4}}\label{vmm_8c_a0e7fdcac3ed330a548c0d042c9eabfc7}


\-Definition at line 40 of file vmm.\-c.

\hypertarget{vmm_8c_af7d5d0dc5a8977952e8aed205da6c304}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-M\-A\-S\-K}}
\index{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-M\-A\-S\-K}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-M\-A\-S\-K}~0x00003000}}\label{vmm_8c_af7d5d0dc5a8977952e8aed205da6c304}


\-Definition at line 31 of file vmm.\-c.

\hypertarget{vmm_8c_a3ba4842d356096b736ce33c9a24b7eef}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-S\-H\-I\-F\-T}}
\index{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-S\-H\-I\-F\-T}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-S\-H0\-\_\-\-S\-H\-I\-F\-T}~12}}\label{vmm_8c_a3ba4842d356096b736ce33c9a24b7eef}


\-Definition at line 32 of file vmm.\-c.

\hypertarget{vmm_8c_adca291ecf73c449c91954d38537eaf1f}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-M\-A\-S\-K}}
\index{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-M\-A\-S\-K}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-M\-A\-S\-K}~0x000000\-C0}}\label{vmm_8c_adca291ecf73c449c91954d38537eaf1f}


\-Definition at line 37 of file vmm.\-c.

\hypertarget{vmm_8c_a6e3d36dfbedada46d5c28f629cab4711}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-S\-H\-I\-F\-T}}
\index{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-S\-H\-I\-F\-T}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-S\-L0\-\_\-\-S\-H\-I\-F\-T}~6}}\label{vmm_8c_a6e3d36dfbedada46d5c28f629cab4711}


\-Definition at line 38 of file vmm.\-c.

\hypertarget{vmm_8c_a37dec823405557e8738315f9dbf05456}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-M\-A\-S\-K}}
\index{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-M\-A\-S\-K@{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-M\-A\-S\-K}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-M\-A\-S\-K}~0x00000003}}\label{vmm_8c_a37dec823405557e8738315f9dbf05456}


\-Definition at line 41 of file vmm.\-c.

\hypertarget{vmm_8c_acf1945529379104ce3708b14ffa357af}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-S\-H\-I\-F\-T}}
\index{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-S\-H\-I\-F\-T}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-C\-R\-\_\-\-T0\-S\-Z\-\_\-\-S\-H\-I\-F\-T}~0}}\label{vmm_8c_acf1945529379104ce3708b14ffa357af}


\-Definition at line 42 of file vmm.\-c.

\hypertarget{vmm_8c_a4501b8c9d5eb0090c0d25441720e3fa9}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-M\-A\-S\-K@{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-M\-A\-S\-K}}
\index{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-M\-A\-S\-K@{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-M\-A\-S\-K}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-M\-A\-S\-K}~0x000000\-F\-F\-F\-F\-F\-F\-F000\-U\-L\-L}}\label{vmm_8c_a4501b8c9d5eb0090c0d25441720e3fa9}


\-Definition at line 26 of file vmm.\-c.

\hypertarget{vmm_8c_a982e014fa0268dd1b0a5e5be293a8ae5}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-S\-H\-I\-F\-T}}
\index{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-S\-H\-I\-F\-T}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-T\-B\-R\-\_\-\-B\-A\-D\-D\-R\-\_\-\-S\-H\-I\-F\-T}~12}}\label{vmm_8c_a982e014fa0268dd1b0a5e5be293a8ae5}


\-Definition at line 27 of file vmm.\-c.

\hypertarget{vmm_8c_a0c989f6abba867b8e096680b743ec2bb}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-T\-B\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L@{\-V\-T\-T\-B\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}}
\index{\-V\-T\-T\-B\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L@{\-V\-T\-T\-B\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-T\-B\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-T\-B\-R\-\_\-\-I\-N\-I\-T\-V\-A\-L}~0x0000000000000000\-U\-L\-L}}\label{vmm_8c_a0c989f6abba867b8e096680b743ec2bb}


\-Definition at line 23 of file vmm.\-c.

\hypertarget{vmm_8c_a51957d8f1ea0f906cb820566d2e6ac13}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-M\-A\-S\-K@{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-M\-A\-S\-K}}
\index{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-M\-A\-S\-K@{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-M\-A\-S\-K}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-M\-A\-S\-K}~0x00\-F\-F000000000000\-U\-L\-L}}\label{vmm_8c_a51957d8f1ea0f906cb820566d2e6ac13}


\-Definition at line 24 of file vmm.\-c.

\hypertarget{vmm_8c_adc8f291db26100706ad7043e243b3d90}{\index{vmm.\-c@{vmm.\-c}!\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-S\-H\-I\-F\-T}}
\index{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-S\-H\-I\-F\-T@{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-S\-H\-I\-F\-T}!vmm.c@{vmm.\-c}}
\subsubsection[{\-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-V\-T\-T\-B\-R\-\_\-\-V\-M\-I\-D\-\_\-\-S\-H\-I\-F\-T}~48}}\label{vmm_8c_adc8f291db26100706ad7043e243b3d90}


\-Definition at line 25 of file vmm.\-c.



\subsection{\-Function \-Documentation}
\hypertarget{vmm_8c_a97063b985af7dad6fae4b4d7a8a69523}{\index{vmm.\-c@{vmm.\-c}!\-\_\-\-\_\-attribute@{\-\_\-\-\_\-attribute}}
\index{\-\_\-\-\_\-attribute@{\-\_\-\-\_\-attribute}!vmm.c@{vmm.\-c}}
\subsubsection[{\-\_\-\-\_\-attribute}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf lpaed\-\_\-t} \-\_\-ttbl\-\_\-guest0 \mbox{[}{\bf \-V\-M\-M\-\_\-\-P\-T\-E\-\_\-\-N\-U\-M\-\_\-\-T\-O\-T\-A\-L}\mbox{]} {\bf \-\_\-\-\_\-attribute} (
\begin{DoxyParamCaption}
\item[{(\-\_\-\-\_\-aligned\-\_\-\-\_\-(4096))}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a97063b985af7dad6fae4b4d7a8a69523}
\hypertarget{vmm_8c_a34e0e13c32b08fd108582567c29ccebf}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-init@{vmm\-\_\-init}}
\index{vmm\-\_\-init@{vmm\-\_\-init}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf vmm\-\_\-init} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{vmm_8c_a34e0e13c32b08fd108582567c29ccebf}


\-Definition at line 339 of file vmm.\-c.


\begin{DoxyCode}
{
    /*
     * Initializes Translation Table for Stage2 Translation (IPA -> PA)
     */
    int i;

    HVMM_TRACE_ENTER();
    for( i = 0; i < NUM_GUESTS_STATIC; i++ ) {
        _vmid_ttbl[i] = 0;
    }

    _vmid_ttbl[0] = &_ttbl_guest0[0];
    _vmid_ttbl[1] = &_ttbl_guest1[0];


    /*
     * VA: 0x00000000 ~ 0x3FFFFFFF,   1GB
     * PA: 0xA0000000 ~ 0xDFFFFFFF    guest_bin_start
     * PA: 0xB0000000 ~ 0xEFFFFFFF    guest2_bin_start
     */

    guest_memory_md0[0].pa = (uint64_t) ((uint32_t) &guest_bin_start);
    guest_memory_md1[0].pa = (uint64_t) ((uint32_t) &guest2_bin_start);

    vmm_init_ttbl(&_ttbl_guest0[0], &guest_mdlist0[0]);
    vmm_init_ttbl(&_ttbl_guest1[0], &guest_mdlist1[0]);
   
    vmm_init_mmu();

    HVMM_TRACE_EXIT();
}
\end{DoxyCode}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmm_8c_a34e0e13c32b08fd108582567c29ccebf_cgraph}
\end{center}
\end{figure}


\hypertarget{vmm_8c_a38fe20d83b4f1d4ceb4f7f9b737a6f2d}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-init\-\_\-mmu@{vmm\-\_\-init\-\_\-mmu}}
\index{vmm\-\_\-init\-\_\-mmu@{vmm\-\_\-init\-\_\-mmu}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-init\-\_\-mmu}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf vmm\-\_\-init\-\_\-mmu} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a38fe20d83b4f1d4ceb4f7f9b737a6f2d}


\-Definition at line 306 of file vmm.\-c.


\begin{DoxyCode}
{
    uint32_t vtcr, vttbr;

    HVMM_TRACE_ENTER();

    vtcr = read_vtcr(); uart_print( "vtcr:"); uart_print_hex32(vtcr); 
      uart_print("\n\r");

    // start lookup at level 1 table
    vtcr &= ~VTCR_SL0_MASK;
    vtcr |= (0x01 << VTCR_SL0_SHIFT) & VTCR_SL0_MASK;
    vtcr &= ~VTCR_ORGN0_MASK;
    vtcr |= (0x3 << VTCR_ORGN0_SHIFT) & VTCR_ORGN0_MASK;
    vtcr &= ~VTCR_IRGN0_MASK;
    vtcr |= (0x3 << VTCR_IRGN0_SHIFT) & VTCR_IRGN0_MASK;
    write_vtcr(vtcr);
    vtcr = read_vtcr(); uart_print( "vtcr:"); uart_print_hex32(vtcr); 
      uart_print("\n\r");
    {
        uint32_t sl0 = (vtcr & VTCR_SL0_MASK) >> VTCR_SL0_SHIFT;
        uint32_t t0sz = vtcr & 0xF;
        uint32_t baddr_x = (sl0 == 0 ? 14 - t0sz : 5 - t0sz);
        uart_print( "vttbr.baddr.x:"); uart_print_hex32(baddr_x); uart_print("
      \n\r");
    }
// VTTBR
    vttbr = read_vttbr(); uart_print( "vttbr:" ); uart_print_hex64(vttbr); 
      uart_print("\n\r");

    HVMM_TRACE_EXIT();
}
\end{DoxyCode}
\hypertarget{vmm_8c_af16a19da3c025dd4aaa0e40ae0bcb205}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-init\-\_\-ttbl@{vmm\-\_\-init\-\_\-ttbl}}
\index{vmm\-\_\-init\-\_\-ttbl@{vmm\-\_\-init\-\_\-ttbl}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-init\-\_\-ttbl}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf vmm\-\_\-init\-\_\-ttbl} (
\begin{DoxyParamCaption}
\item[{{\bf lpaed\-\_\-t} $\ast$}]{ttbl, }
\item[{struct {\bf memmap\-\_\-desc} $\ast$}]{mdlist\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_af16a19da3c025dd4aaa0e40ae0bcb205}


\-Definition at line 285 of file vmm.\-c.


\begin{DoxyCode}
{
    int i = 0;
    HVMM_TRACE_ENTER();

    while(mdlist[i]) {
        struct memmap_desc *md = mdlist[i];

        if ( md[0].label == 0 ) {
            lpaed_stage2_conf_l1_table(&ttbl[i], 0, 0);
        } else {
            lpaed_stage2_conf_l1_table(&ttbl[i], (uint64_t) ((uint32_t) TTBL_L2
      (ttbl, i)), 1);
            vmm_init_ttbl2(TTBL_L2(ttbl, i), md);
        }
        i++;
    }

    HVMM_TRACE_EXIT();
}
\end{DoxyCode}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmm_8c_af16a19da3c025dd4aaa0e40ae0bcb205_cgraph}
\end{center}
\end{figure}


\hypertarget{vmm_8c_aadcc7470fc7393fa03ed15a350195fca}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-init\-\_\-ttbl2@{vmm\-\_\-init\-\_\-ttbl2}}
\index{vmm\-\_\-init\-\_\-ttbl2@{vmm\-\_\-init\-\_\-ttbl2}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-init\-\_\-ttbl2}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf vmm\-\_\-init\-\_\-ttbl2} (
\begin{DoxyParamCaption}
\item[{{\bf lpaed\-\_\-t} $\ast$}]{ttbl2, }
\item[{struct {\bf memmap\-\_\-desc} $\ast$}]{md}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_aadcc7470fc7393fa03ed15a350195fca}


\-Definition at line 264 of file vmm.\-c.


\begin{DoxyCode}
{
    int i = 0;
    HVMM_TRACE_ENTER();
    printh( " - ttbl2:%x\n", (uint32_t) ttbl2 );
    if ( ((uint64_t) ( (uint32_t) ttbl2) ) & 0x0FFFULL ) {
        printh( " - error: invalid ttbl2 address alignment\n" );
    }

    /* construct l2-l3 table hirerachy with invalid pages */
    vmm_ttbl2_init_entries(ttbl2);

    vmm_ttbl2_unmap( ttbl2, 0x00000000, 0x40000000 );

    while(md[i].label != 0) {
        vmm_ttbl2_map(ttbl2, md[i].va, md[i].pa, md[i].size, md[i].attr );
        i++;
    }
    HVMM_TRACE_EXIT();
}
\end{DoxyCode}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmm_8c_aadcc7470fc7393fa03ed15a350195fca_cgraph}
\end{center}
\end{figure}


\hypertarget{vmm_8c_afee733063f1c9c6f9fa314492d1ffb11}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-set\-\_\-vmid\-\_\-ttbl@{vmm\-\_\-set\-\_\-vmid\-\_\-ttbl}}
\index{vmm\-\_\-set\-\_\-vmid\-\_\-ttbl@{vmm\-\_\-set\-\_\-vmid\-\_\-ttbl}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-set\-\_\-vmid\-\_\-ttbl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf hvmm\-\_\-status\-\_\-t} {\bf vmm\-\_\-set\-\_\-vmid\-\_\-ttbl} (
\begin{DoxyParamCaption}
\item[{{\bf vmid\-\_\-t}}]{vmid, }
\item[{{\bf lpaed\-\_\-t} $\ast$}]{ttbl}
\end{DoxyParamCaption}
)}}\label{vmm_8c_afee733063f1c9c6f9fa314492d1ffb11}


\-Definition at line 397 of file vmm.\-c.


\begin{DoxyCode}
{
    uint64_t vttbr;

    /* 
     * VTTBR.VMID = vmid
     * VTTBR.BADDR = ttbl
     */
    vttbr = read_vttbr();
#if 0 /* ignore message due to flood log message */
    uart_print( "current vttbr:" ); uart_print_hex64(vttbr); uart_print("\n\r")
      ;
#endif
    vttbr &= ~(VTTBR_VMID_MASK);
    vttbr |= ((uint64_t)vmid << VTTBR_VMID_SHIFT) & VTTBR_VMID_MASK;

    vttbr &= ~(VTTBR_BADDR_MASK);
    vttbr |= (uint32_t) ttbl & VTTBR_BADDR_MASK;
    write_vttbr(vttbr);

    vttbr = read_vttbr();
#if 0 /* ignore message due to flood log message */
    uart_print( "changed vttbr:" ); uart_print_hex64(vttbr); uart_print("\n\r")
      ;
#endif
    return HVMM_STATUS_SUCCESS;
}
\end{DoxyCode}
\hypertarget{vmm_8c_aad790266948b8b547025a7a62006f0da}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-stage2\-\_\-enable@{vmm\-\_\-stage2\-\_\-enable}}
\index{vmm\-\_\-stage2\-\_\-enable@{vmm\-\_\-stage2\-\_\-enable}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-stage2\-\_\-enable}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf vmm\-\_\-stage2\-\_\-enable} (
\begin{DoxyParamCaption}
\item[{int}]{enable}
\end{DoxyParamCaption}
)}}\label{vmm_8c_aad790266948b8b547025a7a62006f0da}


\-Definition at line 383 of file vmm.\-c.


\begin{DoxyCode}
{
    uint32_t hcr;

    // HCR.VM[0] = enable
    hcr = read_hcr(); //uart_print( "hcr:"); uart_print_hex32(hcr);
       uart_print("\n\r");
    if ( enable ) {
        hcr |= (0x1);
    } else {
        hcr &= ~(0x1);
    }
    write_hcr( hcr );
}
\end{DoxyCode}
\hypertarget{vmm_8c_a19aea725b1f8c73bce85b2fd5cd11da0}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-ttbl2\-\_\-init\-\_\-entries@{vmm\-\_\-ttbl2\-\_\-init\-\_\-entries}}
\index{vmm\-\_\-ttbl2\-\_\-init\-\_\-entries@{vmm\-\_\-ttbl2\-\_\-init\-\_\-entries}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-ttbl2\-\_\-init\-\_\-entries}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf vmm\-\_\-ttbl2\-\_\-init\-\_\-entries} (
\begin{DoxyParamCaption}
\item[{{\bf lpaed\-\_\-t} $\ast$}]{ttbl2}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a19aea725b1f8c73bce85b2fd5cd11da0}


\-Definition at line 245 of file vmm.\-c.


\begin{DoxyCode}
{
    int i, j;
    HVMM_TRACE_ENTER();

    lpaed_t *ttbl3;
    for( i = 0; i < VMM_L2_PTE_NUM; i++ ) {
        ttbl3 = TTBL_L3(ttbl2, i);
        printh("ttbl2[%d]:%x ttbl3[]:%x\n", i, &ttbl2[i], ttbl3 );
        lpaed_stage2_conf_l2_table( &ttbl2[i], (uint64_t) ((uint32_t) ttbl3), 0
      );
        for( j = 0; j < VMM_L2_PTE_NUM; j++) {
            ttbl3[j].pt.valid = 0;
        }
    }        

    HVMM_TRACE_EXIT();
}
\end{DoxyCode}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmm_8c_a19aea725b1f8c73bce85b2fd5cd11da0_cgraph}
\end{center}
\end{figure}


\hypertarget{vmm_8c_ac7f3629c0263bf9be799744dedbe0100}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-ttbl2\-\_\-map@{vmm\-\_\-ttbl2\-\_\-map}}
\index{vmm\-\_\-ttbl2\-\_\-map@{vmm\-\_\-ttbl2\-\_\-map}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-ttbl2\-\_\-map}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf vmm\-\_\-ttbl2\-\_\-map} (
\begin{DoxyParamCaption}
\item[{{\bf lpaed\-\_\-t} $\ast$}]{ttbl2, }
\item[{{\bf uint64\-\_\-t}}]{va\-\_\-offset, }
\item[{{\bf uint64\-\_\-t}}]{pa, }
\item[{{\bf uint32\-\_\-t}}]{size, }
\item[{{\bf lpaed\-\_\-stage2\-\_\-memattr\-\_\-t}}]{mattr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_ac7f3629c0263bf9be799744dedbe0100}


\-Definition at line 184 of file vmm.\-c.


\begin{DoxyCode}
{
    uint64_t block_offset;
    uint32_t index_l2;
    uint32_t index_l2_last;
    uint32_t num_blocks;
    uint32_t pages;
    lpaed_t *ttbl3;
    int i;

    HVMM_TRACE_ENTER();
    printh( "ttbl2:%x va_offset:%x pa:%x size:%d\n", (uint32_t) ttbl2, (uint32_t
      ) va_offset, (uint32_t) pa, size);

    index_l2 = va_offset >> LPAE_BLOCK_L2_SHIFT;
    block_offset = va_offset & LPAE_BLOCK_L2_MASK;
    printh( "- index_l2:%d block_offset:%x\n", index_l2, (uint32_t) 
      block_offset);
    /* head < BLOCK */
    if ( block_offset ) {
        uint64_t offset;
        offset = block_offset >> LPAE_PAGE_SHIFT;
        pages = size >> LPAE_PAGE_SHIFT;
        if ( pages > VMM_L3_PTE_NUM ) {
            pages = VMM_L3_PTE_NUM;
        }
        ttbl3 = TTBL_L3(ttbl2, index_l2 );
        vmm_ttbl3_map( ttbl3, offset, pages, pa, mattr );
        lpaed_stage2_enable_l2_table( &ttbl2[index_l2] );

        va_offset |= ~LPAE_BLOCK_L2_MASK;
        size -= pages * LPAE_PAGE_SIZE;
        pa += pages * LPAE_PAGE_SIZE;
        index_l2 ++;
    }

    /* body : n BLOCKS */
    if ( size > 0 ) {
        num_blocks = size >> LPAE_BLOCK_L2_SHIFT;
        index_l2_last = index_l2 + num_blocks;
        printh( "- index_l2_last:%d num_blocks:%d size:%d\n", index_l2_last, (
      uint32_t) num_blocks, size);

        for( i = index_l2; i < index_l2_last; i++ ) {
            lpaed_stage2_enable_l2_table( &ttbl2[i] );
            vmm_ttbl3_map( TTBL_L3(ttbl2, i), 0, VMM_L3_PTE_NUM, pa, mattr );
            pa += LPAE_BLOCK_L2_SIZE;
            size -= LPAE_BLOCK_L2_SIZE;
        }
    }

    /* tail < BLOCK */
    if ( size > 0) {
        pages = size >> LPAE_PAGE_SHIFT;
        printh( "- pages:%d size:%d\n", pages, size);
        if ( pages ) {
            ttbl3 = TTBL_L3(ttbl2, index_l2_last);
            vmm_ttbl3_map( ttbl3, 0, pages, pa, mattr );
            lpaed_stage2_enable_l2_table( &ttbl2[index_l2_last] );
        }
    }
    HVMM_TRACE_EXIT();
}
\end{DoxyCode}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{vmm_8c_ac7f3629c0263bf9be799744dedbe0100_cgraph}
\end{center}
\end{figure}


\hypertarget{vmm_8c_a3960ecb54fc00d5ec5bb1cbe4ebf4e16}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-ttbl2\-\_\-unmap@{vmm\-\_\-ttbl2\-\_\-unmap}}
\index{vmm\-\_\-ttbl2\-\_\-unmap@{vmm\-\_\-ttbl2\-\_\-unmap}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-ttbl2\-\_\-unmap}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf vmm\-\_\-ttbl2\-\_\-unmap} (
\begin{DoxyParamCaption}
\item[{{\bf lpaed\-\_\-t} $\ast$}]{ttbl2, }
\item[{{\bf uint64\-\_\-t}}]{va\-\_\-offset, }
\item[{{\bf uint32\-\_\-t}}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a3960ecb54fc00d5ec5bb1cbe4ebf4e16}


\-Definition at line 160 of file vmm.\-c.


\begin{DoxyCode}
{
    int index_l2 = 0;
    int index_l2_last = 0;
    int num_blocks = 0;

    /* Initialize the address spaces with 'invalid' state */

    num_blocks = size >> LPAE_BLOCK_L2_SHIFT;
    index_l2 = va_offset >> LPAE_BLOCK_L2_SHIFT;
    index_l2_last = num_blocks;

    for( ; index_l2 < index_l2_last; index_l2++ ) {
        ttbl2[index_l2].pt.valid = 0;
    }

    size &= LPAE_BLOCK_L2_MASK;
    if ( size ) {
        // last partial block
        lpaed_t *ttbl3 = TTBL_L3(ttbl2, index_l2);
        vmm_ttbl3_unmap( ttbl3, 0x00000000, size >> LPAE_PAGE_SHIFT);
    }
}
\end{DoxyCode}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{vmm_8c_a3960ecb54fc00d5ec5bb1cbe4ebf4e16_cgraph}
\end{center}
\end{figure}


\hypertarget{vmm_8c_a180b5829894039ae4bc5e58d16892ab2}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-ttbl3\-\_\-map@{vmm\-\_\-ttbl3\-\_\-map}}
\index{vmm\-\_\-ttbl3\-\_\-map@{vmm\-\_\-ttbl3\-\_\-map}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-ttbl3\-\_\-map}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf vmm\-\_\-ttbl3\-\_\-map} (
\begin{DoxyParamCaption}
\item[{{\bf lpaed\-\_\-t} $\ast$}]{ttbl3, }
\item[{{\bf uint64\-\_\-t}}]{offset, }
\item[{{\bf uint32\-\_\-t}}]{pages, }
\item[{{\bf uint64\-\_\-t}}]{pa, }
\item[{{\bf lpaed\-\_\-stage2\-\_\-memattr\-\_\-t}}]{mattr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a180b5829894039ae4bc5e58d16892ab2}


\-Definition at line 119 of file vmm.\-c.


\begin{DoxyCode}
{
    int index_l3 = 0;
    int index_l3_last = 0;

 
    printh( "%s[%d]: ttbl3:%x offset:%x pte:%x pages:%d, pa:%x\n", __FUNCTION__
      , __LINE__, (uint32_t) ttbl3, (uint32_t) offset, &ttbl3[offset], pages, (uint32_t
      ) pa);
    /* Initialize the address spaces with 'invalid' state */

    index_l3 = offset;
    index_l3_last = index_l3 + pages;

    for( ; index_l3 < index_l3_last; index_l3++ ) {
        lpaed_stage2_map_page(&ttbl3[index_l3], pa, mattr );
        pa += LPAE_PAGE_SIZE;
    }

}
\end{DoxyCode}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{vmm_8c_a180b5829894039ae4bc5e58d16892ab2_cgraph}
\end{center}
\end{figure}


\hypertarget{vmm_8c_ade96e2f0eb8c3b27c184ea8498777b46}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-ttbl3\-\_\-unmap@{vmm\-\_\-ttbl3\-\_\-unmap}}
\index{vmm\-\_\-ttbl3\-\_\-unmap@{vmm\-\_\-ttbl3\-\_\-unmap}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-ttbl3\-\_\-unmap}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf vmm\-\_\-ttbl3\-\_\-unmap} (
\begin{DoxyParamCaption}
\item[{{\bf lpaed\-\_\-t} $\ast$}]{ttbl3, }
\item[{{\bf uint64\-\_\-t}}]{offset, }
\item[{{\bf uint32\-\_\-t}}]{pages}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_ade96e2f0eb8c3b27c184ea8498777b46}


\-Definition at line 139 of file vmm.\-c.


\begin{DoxyCode}
{
    int index_l3 = 0;
    int index_l3_last = 0;

    /* Initialize the address spaces with 'invalid' state */

    index_l3 = offset >> LPAE_PAGE_SHIFT;
    index_l3_last = index_l3 + pages;

    for( ; index_l3 < index_l3_last; index_l3++ ) {
        ttbl3[index_l3].pt.valid = 0;
    }
}
\end{DoxyCode}
\hypertarget{vmm_8c_a269ada885aa7296fc4601e4cfe6a134b}{\index{vmm.\-c@{vmm.\-c}!vmm\-\_\-vmid\-\_\-ttbl@{vmm\-\_\-vmid\-\_\-ttbl}}
\index{vmm\-\_\-vmid\-\_\-ttbl@{vmm\-\_\-vmid\-\_\-ttbl}!vmm.c@{vmm.\-c}}
\subsubsection[{vmm\-\_\-vmid\-\_\-ttbl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lpaed\-\_\-t}$\ast$ {\bf vmm\-\_\-vmid\-\_\-ttbl} (
\begin{DoxyParamCaption}
\item[{{\bf vmid\-\_\-t}}]{vmid}
\end{DoxyParamCaption}
)}}\label{vmm_8c_a269ada885aa7296fc4601e4cfe6a134b}


\-Definition at line 373 of file vmm.\-c.


\begin{DoxyCode}
{
    lpaed_t *ttbl = 0;
    if ( vmid < NUM_GUESTS_STATIC ) {
        ttbl = _vmid_ttbl[vmid];
    }
    return ttbl;
}
\end{DoxyCode}


\subsection{\-Variable \-Documentation}
\hypertarget{vmm_8c_a01ee9b39803516e895627447812e4ee1}{\index{vmm.\-c@{vmm.\-c}!\-\_\-vmid\-\_\-ttbl@{\-\_\-vmid\-\_\-ttbl}}
\index{\-\_\-vmid\-\_\-ttbl@{\-\_\-vmid\-\_\-ttbl}!vmm.c@{vmm.\-c}}
\subsubsection[{\-\_\-vmid\-\_\-ttbl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lpaed\-\_\-t}$\ast$ {\bf \-\_\-vmid\-\_\-ttbl}\mbox{[}{\bf \-N\-U\-M\-\_\-\-G\-U\-E\-S\-T\-S\-\_\-\-S\-T\-A\-T\-I\-C}\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a01ee9b39803516e895627447812e4ee1}


\-Definition at line 53 of file vmm.\-c.

\hypertarget{vmm_8c_ab6ae8dae234de686040fcd733765cdc5}{\index{vmm.\-c@{vmm.\-c}!guest2\-\_\-bin\-\_\-start@{guest2\-\_\-bin\-\_\-start}}
\index{guest2\-\_\-bin\-\_\-start@{guest2\-\_\-bin\-\_\-start}!vmm.c@{vmm.\-c}}
\subsubsection[{guest2\-\_\-bin\-\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\-\_\-t} {\bf guest2\-\_\-bin\-\_\-start}}}\label{vmm_8c_ab6ae8dae234de686040fcd733765cdc5}
\hypertarget{vmm_8c_a6834f1cdeb19fe290ffeb2f62394e5cd}{\index{vmm.\-c@{vmm.\-c}!guest\-\_\-bin\-\_\-start@{guest\-\_\-bin\-\_\-start}}
\index{guest\-\_\-bin\-\_\-start@{guest\-\_\-bin\-\_\-start}!vmm.c@{vmm.\-c}}
\subsubsection[{guest\-\_\-bin\-\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\-\_\-t} {\bf guest\-\_\-bin\-\_\-start}}}\label{vmm_8c_a6834f1cdeb19fe290ffeb2f62394e5cd}
\hypertarget{vmm_8c_ac04a34d558fa50fcd48a6b62694049e3}{\index{vmm.\-c@{vmm.\-c}!guest\-\_\-device\-\_\-md0@{guest\-\_\-device\-\_\-md0}}
\index{guest\-\_\-device\-\_\-md0@{guest\-\_\-device\-\_\-md0}!vmm.c@{vmm.\-c}}
\subsubsection[{guest\-\_\-device\-\_\-md0}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf memmap\-\_\-desc} {\bf guest\-\_\-device\-\_\-md0}\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_ac04a34d558fa50fcd48a6b62694049e3}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 {
    
    CFG_GUEST0_DEVICE_MEMORY,
    { 0, 0, 0, 0,  0},
}
\end{DoxyCode}


\-Definition at line 70 of file vmm.\-c.

\hypertarget{vmm_8c_a4065b8a2c64a98de1549a250d4a5ddba}{\index{vmm.\-c@{vmm.\-c}!guest\-\_\-device\-\_\-md1@{guest\-\_\-device\-\_\-md1}}
\index{guest\-\_\-device\-\_\-md1@{guest\-\_\-device\-\_\-md1}!vmm.c@{vmm.\-c}}
\subsubsection[{guest\-\_\-device\-\_\-md1}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf memmap\-\_\-desc} {\bf guest\-\_\-device\-\_\-md1}\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a4065b8a2c64a98de1549a250d4a5ddba}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 {
    
    CFG_GUEST1_DEVICE_MEMORY,
    { 0, 0, 0, 0,  0},
}
\end{DoxyCode}


\-Definition at line 76 of file vmm.\-c.

\hypertarget{vmm_8c_a36e85cb6296246e95073b1ee9e45abd2}{\index{vmm.\-c@{vmm.\-c}!guest\-\_\-md\-\_\-empty@{guest\-\_\-md\-\_\-empty}}
\index{guest\-\_\-md\-\_\-empty@{guest\-\_\-md\-\_\-empty}!vmm.c@{vmm.\-c}}
\subsubsection[{guest\-\_\-md\-\_\-empty}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf memmap\-\_\-desc} {\bf guest\-\_\-md\-\_\-empty}\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a36e85cb6296246e95073b1ee9e45abd2}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 {
    {       0, 0, 0, 0,  0},
}
\end{DoxyCode}


\-Definition at line 66 of file vmm.\-c.

\hypertarget{vmm_8c_a0974e8331682cf4d953667cf4b24b4ee}{\index{vmm.\-c@{vmm.\-c}!guest\-\_\-mdlist0@{guest\-\_\-mdlist0}}
\index{guest\-\_\-mdlist0@{guest\-\_\-mdlist0}!vmm.c@{vmm.\-c}}
\subsubsection[{guest\-\_\-mdlist0}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf memmap\-\_\-desc}$\ast$ {\bf guest\-\_\-mdlist0}\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a0974e8331682cf4d953667cf4b24b4ee}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 {
    &guest_device_md0[0],   
    &guest_md_empty[0],     
    &guest_memory_md0[0],
    &guest_md_empty[0],     
    0
}
\end{DoxyCode}


\-Definition at line 95 of file vmm.\-c.

\hypertarget{vmm_8c_a61961d5dffc30571d28cbb7b4cf5cb94}{\index{vmm.\-c@{vmm.\-c}!guest\-\_\-mdlist1@{guest\-\_\-mdlist1}}
\index{guest\-\_\-mdlist1@{guest\-\_\-mdlist1}!vmm.c@{vmm.\-c}}
\subsubsection[{guest\-\_\-mdlist1}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf memmap\-\_\-desc}$\ast$ {\bf guest\-\_\-mdlist1}\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a61961d5dffc30571d28cbb7b4cf5cb94}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 {
    &guest_device_md1[0],
    &guest_md_empty[0],
    &guest_memory_md1[0],
    &guest_md_empty[0],
    0
}
\end{DoxyCode}


\-Definition at line 104 of file vmm.\-c.

\hypertarget{vmm_8c_a3d3790518e4334717071a39482dde8ec}{\index{vmm.\-c@{vmm.\-c}!guest\-\_\-memory\-\_\-md0@{guest\-\_\-memory\-\_\-md0}}
\index{guest\-\_\-memory\-\_\-md0@{guest\-\_\-memory\-\_\-md0}!vmm.c@{vmm.\-c}}
\subsubsection[{guest\-\_\-memory\-\_\-md0}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf memmap\-\_\-desc} {\bf guest\-\_\-memory\-\_\-md0}\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a3d3790518e4334717071a39482dde8ec}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 {
    
    { "start", 0x00000000,          0, 0x30000000, 
      LPAED_STAGE2_MEMATTR_NORMAL_OWT | LPAED_STAGE2_MEMATTR_NORMAL_IWT },
    {       0, 0, 0, 0,  0},
}
\end{DoxyCode}


\-Definition at line 82 of file vmm.\-c.

\hypertarget{vmm_8c_a2ecf2b20575bb082ed279e4094298656}{\index{vmm.\-c@{vmm.\-c}!guest\-\_\-memory\-\_\-md1@{guest\-\_\-memory\-\_\-md1}}
\index{guest\-\_\-memory\-\_\-md1@{guest\-\_\-memory\-\_\-md1}!vmm.c@{vmm.\-c}}
\subsubsection[{guest\-\_\-memory\-\_\-md1}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf memmap\-\_\-desc} {\bf guest\-\_\-memory\-\_\-md1}\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{vmm_8c_a2ecf2b20575bb082ed279e4094298656}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 {
    
    { "start", 0x00000000,          0, 0x10000000, 
      LPAED_STAGE2_MEMATTR_NORMAL_OWT | LPAED_STAGE2_MEMATTR_NORMAL_IWT },
    {       0, 0, 0, 0,  0},
}
\end{DoxyCode}


\-Definition at line 88 of file vmm.\-c.

